---
title: 员工公寓综合系统 v1.0.0
language_tabs:
  - shell: Shell
  - http: HTTP
  - javascript: JavaScript
  - ruby: Ruby
  - python: Python
  - php: PHP
  - java: Java
  - go: Go
toc_footers: []
includes: []
search: true
code_clipboard: true
highlight_theme: darkula
headingLevel: 2
generator: "@tarslib/widdershins v4.0.17"

---

# 员工公寓综合系统

> v1.0.0

Base URLs:

* <a href="https://apartment-server.wangminan.me">正式环境: https://apartment-server.wangminan.me</a>

* <a href="http://localhost:63010">开发环境: http://localhost:63010</a>

* <a href="http://103.42.30.248:32010">测试环境: http://103.42.30.248:32010</a>

# auth/注册

## POST 用户注册

POST /api/auth/register

基础住户使用该接口成为平台用户。前置条件是完成了人证核验，同时提交了照片。获取department列表的部分放在admin模块了。

> Body 请求参数

```json
{
  "username": "string",
  "password": "string",
  "departmentId": "string",
  "name": "string",
  "personalId": "string",
  "personalCardUrl": "string",
  "faceUrl": "string",
  "email": "string",
  "sex": 0,
  "isCadre": 0
}
```

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|body|body|object| 否 ||none|
|» username|body|string| 是 | 手机号|用户登录用用户名 标准的大陆手机号|
|» password|body|string| 是 | 密码|RSA加密 6-20位数字 字母与下划线|
|» departmentId|body|string| 是 | 部门ID|前端应先请求部门列表以供展示|
|» name|body|string| 是 | 姓名|用户姓名|
|» personalId|body|string| 是 | 身份证号|用户身份证号|
|» personalCardUrl|body|string| 是 | 身份证URL|OSS|
|» faceUrl|body|string| 是 | 人脸数据URL|OSS|
|» email|body|string¦null| 否 | 邮箱|可空|
|» sex|body|integer| 是 | 性别|男0女1|
|» isCadre|body|integer| 是 | 是否处级干部|是否处级干部|

> 返回示例

> 200 Response

```json
{
  "code": 0,
  "msg": "string",
  "result": {}
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none|返回码|2000为正常 具体稍晚的时候我会给出一个YAML文件|
|» msg|string|false|none|提示|一般在返回异常的时候才会出现|
|» result|object|false|none|结果|一个map，包含了返回结果|

## POST 身份证识别接口

POST /api/auth/register/ocr/idCard

用户点击按钮上传身份证照片到OSS，并由此接口获取解析数据。前端需要缓存OSS-URL。

> Body 请求参数

```yaml
card: string

```

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|body|body|object| 否 ||none|
|» card|body|string(binary)| 是 ||身份证照片，需要使用vant直接拉起摄像头。|

> 返回示例

> 成功

```json
{
  "code": 2000,
  "data": "{\"algo_version\":\"48f3e265513a79d5f9bc26f0c010476bbd856b2d\",\"data\":{\"face\":{\"algo_version\":\"48f3e265513a79d5f9bc26f0c010476bbd856b2d\",\"angle\":0,\"data\":{\"address\":\"杭州市拱墅区祥符镇总管堂东苑48号\",\"birthDate\":\"2002年8月11日\",\"ethnicity\":\"汉\",\"idNumber\":\"330102200208113313\",\"name\":\"王旻安\",\"sex\":\"男\"},\"ftype\":0,\"height\":2308,\"orgHeight\":2308,\"orgWidth\":3633,\"prism_keyValueInfo\":[{\"key\":\"name\",\"keyProb\":100,\"value\":\"王旻安\",\"valuePos\":[{\"x\":728,\"y\":734},{\"x\":1181,\"y\":734},{\"x\":1181,\"y\":885},{\"x\":728,\"y\":885}],\"valueProb\":100},{\"key\":\"sex\",\"keyProb\":100,\"value\":\"男\",\"valuePos\":[{\"x\":710,\"y\":1030},{\"x\":825,\"y\":1030},{\"x\":825,\"y\":1158},{\"x\":710,\"y\":1158}],\"valueProb\":100},{\"key\":\"ethnicity\",\"keyProb\":100,\"value\":\"汉\",\"valuePos\":[{\"x\":1404,\"y\":1033},{\"x\":1532,\"y\":1031},{\"x\":1533,\"y\":1153},{\"x\":1404,\"y\":1154}],\"valueProb\":100},{\"key\":\"birthDate\",\"keyProb\":100,\"value\":\"2002年8月11日\",\"valuePos\":[{\"x\":696,\"y\":1300},{\"x\":1685,\"y\":1300},{\"x\":1685,\"y\":1409},{\"x\":696,\"y\":1409}],\"valueProb\":100},{\"key\":\"address\",\"keyProb\":100,\"value\":\"杭州市拱墅区祥符镇总管堂东苑48号\",\"valuePos\":[{\"x\":682,\"y\":1584},{\"x\":2115,\"y\":1575},{\"x\":2117,\"y\":1890},{\"x\":684,\"y\":1898}],\"valueProb\":100},{\"key\":\"idNumber\",\"keyProb\":100,\"value\":\"330102200208113313\",\"valuePos\":[{\"x\":1226,\"y\":2303},{\"x\":3183,\"y\":2298},{\"x\":3183,\"y\":2437},{\"x\":1227,\"y\":2442}],\"valueProb\":100}],\"sliceRect\":{\"x0\":42,\"x1\":3543,\"x2\":3631,\"x3\":0,\"y0\":469,\"y1\":443,\"y2\":2733,\"y3\":2751},\"warning\":{\"completenessScore\":100,\"isCopy\":0,\"isReshoot\":0,\"qualityScore\":96.666512,\"tamperScore\":11.331956},\"width\":3633}},\"height\":3018,\"orgHeight\":3018,\"orgWidth\":4032,\"width\":4032}"
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none|返回码|2000为正常 具体稍晚的时候我会给出一个YAML文件|
|» msg|string|false|none|提示|一般在返回异常的时候才会出现|
|» result|object|false|none|结果|一个map，包含了返回结果|
|»» name|string|true|none|姓名|解析得到的用户姓名|
|»» personalId|string|true|none|身份证号|解析得到的用户身份证号|

## POST 人证核身(服务端)

POST /api/auth/faceVerification

用户调用vant-uploader拍摄本人照片，由前端上传到OSS后返回照片URL。前端调用本接口上传URL到后端以供调用人证核身。如果后端人证核身通过，则应在新线程中添加人脸URL到阿里云人脸库以供后期扫脸进出。

> Body 请求参数

```json
{
  "faceUrl": "string",
  "name": "string",
  "personalId": "string"
}
```

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|body|body|object| 否 ||none|
|» faceUrl|body|string| 是 | 人脸URL|注意 请使用上海OSS|
|» name|body|string| 是 | 人名|none|
|» personalId|body|string| 是 | 身份证号|none|

> 返回示例

> 成功

```json
{
  "code": 2000
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none|返回码|2000为正常 具体稍晚的时候我会给出一个YAML文件|
|» msg|string|false|none|提示|一般在返回异常的时候才会出现|
|» result|object|false|none|结果|一个map，包含了返回结果|

# auth/通用

## POST 发送验证短信接口

POST /api/auth/sendsms

前端请求该接口后，后端向阿里云服务器请求短信发送。每条短信的过期时间暂定为五分钟。短信模板中包含一个四个数字长的验证码。

> Body 请求参数

```json
{
  "phone": "string"
}
```

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|body|body|object| 否 ||none|
|» phone|body|string| 是 | 手机号|none|

> 返回示例

> 200 Response

```json
{}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

## POST 发送验证邮件接口

POST /api/auth/sendmail

前端请求该接口后，后端使用springmail发送验证码邮件到目标邮箱。

> Body 请求参数

```json
{
  "email": "string"
}
```

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|body|body|object| 否 ||none|
|» email|body|string| 是 | 邮箱|none|

> 返回示例

> 200 Response

```json
{
  "code": 0,
  "msg": "string",
  "result": {}
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none|返回码|2000为正常 具体稍晚的时候我会给出一个YAML文件|
|» msg|string|false|none|提示|一般在返回异常的时候才会出现|
|» result|object|false|none|结果|一个map，包含了返回结果|

## POST 校验短信验证码接口

POST /api/auth/checksms

前端通过该接口请求后端验证短信验证码。注意和登录场景接口进行区分。这个只是单纯做验证。建议前端在完成校验之后直接disable输入。

> Body 请求参数

```json
{
  "phone": "string",
  "code": "string"
}
```

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|body|body|object| 否 ||none|
|» phone|body|string| 是 | 手机号|none|
|» code|body|string| 是 | 验证码|none|

> 返回示例

> 200 Response

```json
{
  "code": 0,
  "msg": "string",
  "result": {}
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none|返回码|2000为正常 具体稍晚的时候我会给出一个YAML文件|
|» msg|string|false|none|提示|一般在返回异常的时候才会出现|
|» result|object|false|none|结果|一个map，包含了返回结果|

## POST 校验邮件验证码接口

POST /api/auth/checkmail

前端请求该接口以校验邮箱验证码

> Body 请求参数

```json
{
  "email": "string",
  "code": "string"
}
```

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|body|body|object| 否 ||none|
|» email|body|string| 是 | 邮箱|none|
|» code|body|string| 是 | 验证码|none|

> 返回示例

> 200 Response

```json
{
  "code": 0,
  "msg": "string",
  "result": {}
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none|返回码|2000为正常 具体稍晚的时候我会给出一个YAML文件|
|» msg|string|false|none|提示|一般在返回异常的时候才会出现|
|» result|object|false|none|结果|一个map，包含了返回结果|

## GET 刷脸门禁

GET /api/auth/face/user

前端调用该接口上传人脸图片，后端收到图片URL后调用阿里云人脸识别以校验结果。该接口也可用于入住确认。校验结果将包括基础用户信息与用户所在公寓-房间-床位。

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|faceUrl|query|string| 是 ||图片存储oss-url|

> 返回示例

> 成功

```json
{
  "code": 2000,
  "user": {
    "id": "9",
    "loginAccountId": "17",
    "departmentId": "10",
    "bedId": "4",
    "name": "王旻安的小号",
    "personalId": "330102200208113313",
    "personalCardUrl": "https://wangminan-shanghai-files.oss-cn-shanghai.aliyuncs.com/apartment/user/idcard/%E7%8E%8B%E6%97%BB%E5%AE%89_297CE45C71FD198CF078C3E16C53309D.png_1688373577137_95700009c00000.png",
    "faceUrl": "https://wangminan-shanghai-files.oss-cn-shanghai.aliyuncs.com/apartment/user/face/%E7%8E%8B%E6%97%BB%E5%AE%89_%E7%8E%8B%E6%97%BB%E5%AE%89-%E7%99%BD%E5%BA%95%E8%AF%81%E4%BB%B6%E7%85%A7.jpg_1688376503876_ccf00009700000.jpg",
    "faceId": "44434798",
    "alipayId": "2088722004659612",
    "email": "wangminan0811@qq.com",
    "sex": 0,
    "isCadre": 1,
    "status": 1,
    "payType": 0,
    "networkEnabled": 0,
    "isDeleted": 0
  }
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none|返回码|2000为正常 具体稍晚的时候我会给出一个YAML文件|
|» msg|string|false|none|提示|一般在返回异常的时候才会出现|
|» result|object|false|none|结果|一个map，包含了返回结果|

# auth/登录/用户名密码登录

## POST 用户名密码登录

POST /api/auth/login/password

管理端与客户端通用，用户提供用户名密码以供校验后登录。

> Body 请求参数

```json
{
  "username": "string",
  "passsword": "string"
}
```

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|body|body|object| 否 ||none|
|» username|body|string| 是 | 用户名|none|
|» passsword|body|string| 是 | 密码|需要经过RSA加密|

> 返回示例

> 成功

```json
{
  "result": {
    "role": 8,
    "user": {
      "id": "1",
      "loginAccountId": "1",
      "departmentId": "1",
      "bedId": "",
      "name": "王旻安",
      "personalId": "330102200208113313",
      "personalCardUrl": "https://wangminan-files.oss-cn-hongkong.aliyuncs.com/default/%E8%BA%AB%E4%BB%BD%E8%AF%81.png",
      "faceUrl": "https://wangminan-files.oss-cn-hongkong.aliyuncs.com/default/%E7%99%BD%E5%BA%95%E8%AF%81%E4%BB%B6%E7%85%A7.jpg",
      "faceId": "42686726",
      "alipayId": "2088722003402347",
      "email": "",
      "sex": 1,
      "isCadre": 0,
      "status": 0,
      "payType": 0,
      "networkEnabled": 0,
      "isDeleted": 0
    },
    "token": "eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxMzc3Nzg2NDQ1OCIsImlhdCI6MTY4Nzg1NDYyOCwiZXhwIjoxNjg4MDM0NjI4fQ.2GiKKhsUHgkwaZwxQj8ntAGqNvk0JUKIF2YSvugOrYI"
  },
  "code": 2000
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none|返回码|2000为正常 具体稍晚的时候我会给出一个YAML文件|
|» msg|string|false|none|提示|一般在返回异常的时候才会出现|
|» result|object|false|none|结果|一个map，包含了返回结果|
|»» token|string|true|none|token|一串ej开头的长字符串|
|»» role|integer|true|none|用户角色|查见Enum|

# auth/登录/手机号验证码登录

## POST 手机号验证码登录

POST /api/auth/login/phone

> Body 请求参数

```json
{
  "phone": "string",
  "code": "string"
}
```

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|body|body|object| 否 ||none|
|» phone|body|string| 是 | 手机号|none|
|» code|body|string| 是 | 验证码|none|

> 返回示例

> 200 Response

```json
{
  "code": 0,
  "msg": "string",
  "result": {
    "token": "string",
    "role": 0
  }
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none|返回码|2000为正常 具体稍晚的时候我会给出一个YAML文件|
|» msg|string|false|none|提示|一般在返回异常的时候才会出现|
|» result|object|false|none|结果|一个map，包含了返回结果|
|»» token|string|true|none|token|一串ej开头的长字符串|
|»» role|integer|true|none|用户角色|查见Enum|

# auth/登录/支付宝登录

## GET 支付宝OAuth网页登录

GET /gateway.do/oauth2/publicAppAuthorize.htm

在用户点击选择支付宝登录时，前端应当重定向页面到上述URL。

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|app_id|query|string| 是 ||开发者应用的 APPID|
|scope|query|string| 是 ||接口权限值，目前只支持 auth_user 和 auth_base 两个值，我们用user|
|redirect_uri|query|string| 是 ||回调页面，是经过转义的url链接（url 必须以 http 或者 https 开头），比如：http%3A%2F%2Fexample.com 在请求之前，开发者需要先到开发者中心对应应用内，配置授权回调地址。|

> 返回示例

> 200 Response

```json
{}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

## GET 支付宝OAuth回调

GET /api/auth/login/oauth/callback

用户在支付宝页面完成登录后支付宝将组织参数并跳转回到这个页面上

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|app_id|query|string| 是 ||app_id|
|source|query|string| 是 ||跳转源|
|scope|query|string| 是 ||接口权限值，目前只支持 auth_user 和 auth_base 两个值，我们用user|
|auth_code|query|string| 是 ||临时授权码，一次有效，auth_code 有效期为 3 分钟到 24 小时（开放平台规则会根据具体的业务场景动态调整 auth_code 的有效期，但是不会低于 3 分钟，同时也不会超过 24 小时），超过有效期的 auth_code 即使未使用也将无法使用。 用户的每次授权动作都会生成一个新的 auth_code。|

> 返回示例

> 200 Response

```json
{}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

## GET 前端承接支付宝登录成功

GET /oauth/alipay/success

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|token|query|string| 是 ||token|
|role|query|integer| 是 ||用户角色|

> 返回示例

> 200 Response

```json
{}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

## GET 前端承接支付宝登录失败

GET /oauth/alipay/failure

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|msg|query|string| 否 ||登录失败说明 可空 为空时表示未知异常|

> 返回示例

> 200 Response

```json
{}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

# auth/退出

## POST 退出系统

POST /api/auth/logout

使用该接口清除登录状态。我们建议前端无论发生后端报任何问题都强行跳转回到login界面。

> 返回示例

> 200 Response

```json
{
  "code": 0,
  "msg": "string",
  "result": {}
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none|返回码|2000为正常 具体稍晚的时候我会给出一个YAML文件|
|» msg|string|false|none|提示|一般在返回异常的时候才会出现|
|» result|object|false|none|结果|一个map，包含了返回结果|

# user/管理员

## POST 新增管理员账号

POST /api/user/admin

通过该接口新增管理员。注意发起者应具备一定的权限。后端在实现时需要做两场表的插入。根据查询外部单位简表来获取departmentID

> Body 请求参数

```json
{
  "username": "string",
  "password": "string",
  "role": "string",
  "name": "string",
  "departmentId": "string",
  "email": "string"
}
```

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|body|body|object| 否 ||none|
|» username|body|string| 是 | 用户名|也是管理员的手机号|
|» password|body|string| 是 | 密码|RSA加密 6-20位数字、字母、下划线|
|» role|body|string| 是 | 角色|管理员角色|
|» name|body|string| 是 | 姓名|none|
|» departmentId|body|string| 是 | 部门ID|所属部门对应ID|
|» email|body|string| 否 | 邮箱|联系该管理员的邮箱|

> 返回示例

> 200 Response

```json
{
  "code": 0,
  "msg": "string",
  "result": {}
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none|返回码|2000为正常 具体稍晚的时候我会给出一个YAML文件|
|» msg|string|false|none|提示|一般在返回异常的时候才会出现|
|» result|object|false|none|结果|一个map，包含了返回结果|

## GET 查询管理员账号列表

GET /api/user/admin

分页查询管理员账号 直接MySQL

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|pageNum|query|integer| 是 ||当前页号|
|pageSize|query|integer| 是 ||当前页面大小|
|query|query|string| 否 ||搜索字段|
|departmentId|query|string| 否 ||管理员所在部门ID Long|

> 返回示例

> 成功

```json
{
  "result": {
    "total": "3",
    "list": [
      {
        "id": "3",
        "loginAccountId": "7",
        "name": "Yu",
        "departmentId": "0",
        "email": "850778435@qq.com",
        "isDeleted": 0
      },
      {
        "id": "4",
        "loginAccountId": "8",
        "name": "L",
        "departmentId": "0",
        "email": "850778435@qq.com",
        "isDeleted": 0
      },
      {
        "id": "5",
        "loginAccountId": "9",
        "name": "俞淑敏",
        "departmentId": "1",
        "email": "850778435@qq.com",
        "isDeleted": 0
      }
    ]
  },
  "code": 2000
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none|返回码|2000为正常 具体稍晚的时候我会给出一个YAML文件|
|» msg|string|false|none|提示|一般在返回异常的时候才会出现|
|» result|object|false|none|结果|一个map，包含了返回结果|
|»» list|[object]|true|none|结果列表|包含分页结果的数组|
|»» total|integer|true|none|总记录数|none|

## DELETE 删除管理员账号

DELETE /api/user/admin/{id}

使用该接口删除管理员账号。这是一个需要二次确认后方可进行的工作。

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|id|path|integer| 是 ||管理员在admin表中的id|

> 返回示例

> 成功

```json
{
  "msg": "账号删除成功",
  "code": 2000
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none|返回码|2000为正常 具体稍晚的时候我会给出一个YAML文件|
|» msg|string|false|none|提示|一般在返回异常的时候才会出现|
|» result|object|false|none|结果|一个map，包含了返回结果|

## PUT 修改管理员账号

PUT /api/user/admin/{id}

> Body 请求参数

```json
{
  "username": "string",
  "password": "string",
  "role": "string",
  "name": "string",
  "departmentId": "string",
  "email": "string"
}
```

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|id|path|integer| 是 ||管理员在admin表中的id|
|body|body|object| 否 ||none|
|» username|body|string| 是 | 用户名|也是管理员的手机号|
|» password|body|string| 是 | 密码|RSA加密 6-20位数字、字母、下划线|
|» role|body|string| 是 | 角色|管理员角色|
|» name|body|string| 是 | 姓名|none|
|» departmentId|body|string| 是 | 部门ID|所属部门对应ID|
|» email|body|string| 否 | 邮箱|联系该管理员的邮箱|

> 返回示例

> 成功

```json
{
  "msg": "管理员信息修改成功",
  "code": 2000
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none|返回码|2000为正常 具体稍晚的时候我会给出一个YAML文件|
|» msg|string|false|none|提示|一般在返回异常的时候才会出现|
|» result|object|false|none|结果|一个map，包含了返回结果|

## GET 查询班组长简表

GET /api/user/admin/foreman

通过该接口获取未被分配班组长列表以供分配。

> 返回示例

> 成功

```json
{
  "result": {
    "list": [
      {
        "name": "Yu",
        "id": "3"
      },
      {
        "name": "L",
        "id": "4"
      }
    ]
  },
  "code": 2000
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none|返回码|2000为正常 具体稍晚的时候我会给出一个YAML文件|
|» msg|string|false|none|提示|一般在返回异常的时候才会出现|
|» result|object|false|none|结果|一个map，包含了返回结果|
|»» list|[object]|true|none|班组长列表|none|
|»»» id|string|true|none|id|用户在admin表中的ID|
|»»» name|string|true|none|姓名|班组长姓名|

# user/用户

## PUT 修改用户信息

PUT /api/user/user/{id}

用户通过此接口修改个人信息

> Body 请求参数

```json
{
  "username": "string",
  "departmentId": "string",
  "name": "string",
  "personalId": "string",
  "personalCardUrl": "string",
  "faceUrl": "string",
  "email": "string",
  "sex": 0,
  "isCadre": true
}
```

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|id|path|integer| 是 ||用户在user表中的id|
|body|body|object| 否 ||none|
|» username|body|string| 是 | 手机号|用户登录用用户名 标准的大陆手机号|
|» departmentId|body|string| 是 | 部门ID|前端应先请求部门列表以供展示|
|» name|body|string| 是 | 姓名|用户姓名|
|» personalId|body|string| 是 | 身份证号|用户身份证号|
|» personalCardUrl|body|string| 是 | 身份证URL|OSS|
|» faceUrl|body|string| 是 | 人脸数据URL|OSS|
|» email|body|string¦null| 否 | 邮箱|可空|
|» sex|body|integer| 是 | 性别|男0女1|
|» isCadre|body|boolean| 是 | 是否处级干部|是否处级干部|

> 返回示例

> 200 Response

```json
{
  "code": 0,
  "msg": "string",
  "result": {}
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none|返回码|2000为正常 具体稍晚的时候我会给出一个YAML文件|
|» msg|string|false|none|提示|一般在返回异常的时候才会出现|
|» result|object|false|none|结果|一个map，包含了返回结果|

## DELETE 删除用户信息

DELETE /api/user/user/{id}

后台管理通过此接口删除住宿职工信息。住宿职工也可以使用该接口注销。在删除用户之前务必进行预校验，确保住宿职工费用已交，并已退宿。

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|id|path|integer| 是 ||住宿职工在user表中的id|

> 返回示例

> 200 Response

```json
{
  "code": 0,
  "msg": "string",
  "result": {}
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none|返回码|2000为正常 具体稍晚的时候我会给出一个YAML文件|
|» msg|string|false|none|提示|一般在返回异常的时候才会出现|
|» result|object|false|none|结果|一个map，包含了返回结果|

## GET 获取用户信息列表

GET /api/user/user

分页获取用户信息列表。该接口提供给管理层使用，用户不可见，注意`@hasAuthority`。query字段提供用户名或身份证字段的模糊搜索。

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|pageNum|query|integer| 是 ||当前页号|
|pageSize|query|integer| 是 ||当前页面大小|
|query|query|string| 否 ||搜索字段|
|departmentId|query|string| 否 ||工作部门ID Long|
|apartmentId|query|string| 否 ||职工所住公寓ID Long|

> 返回示例

> 成功

```json
{
  "result": {
    "total": "2",
    "list": [
      {
        "id": "1",
        "loginAccountId": "",
        "departmentId": "",
        "bedId": "",
        "name": "王旻安",
        "personalId": ""
      },
      {
        "id": "3",
        "loginAccountId": "",
        "departmentId": "",
        "bedId": "",
        "name": "林昊辰",
        "personalId": ""
      }
    ]
  },
  "code": 2000
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none|返回码|2000为正常 具体稍晚的时候我会给出一个YAML文件|
|» msg|string|false|none|提示|一般在返回异常的时候才会出现|
|» result|object|false|none|结果|一个map，包含了返回结果|
|»» list|[object]|true|none|结果列表|包含分页结果的数组|
|»» total|integer|true|none|总记录数|none|

## GET 获取用户详细信息

GET /api/user/user/detail

通过此接口获取用户的详细信息，管理员与住宿职工都可调用。

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|id|query|string| 是 ||用户在ID表中对应的ID|

> 返回示例

> 成功

```json
{
  "result": {
    "id": "1",
    "loginAccountId": "1",
    "departmentId": "1",
    "bedId": "",
    "name": "王旻安",
    "personalId": "330102200208113313",
    "personalCardUrl": "https://wangminan-files.oss-cn-hongkong.aliyuncs.com/default/%E8%BA%AB%E4%BB%BD%E8%AF%81.png",
    "faceId": "42686726",
    "faceUrl": "https://wangminan-files.oss-cn-hongkong.aliyuncs.com/default/%E7%99%BD%E5%BA%95%E8%AF%81%E4%BB%B6%E7%85%A7.jpg",
    "alipayId": "2088722003402347",
    "email": "wangminan0811@hotmail.com",
    "sex": 1,
    "isCadre": 0,
    "status": 0,
    "payType": 0,
    "networkEnabled": 0,
    "isDeleted": 0
  },
  "code": 2000
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» result|object|true|none||none|
|»» id|string|true|none||none|
|»» loginAccountId|string|true|none||none|
|»» departmentId|string|true|none||none|
|»» bedId|string|true|none||none|
|»» name|string|true|none||none|
|»» personalId|string|true|none||none|
|»» personalCardUrl|string|true|none||none|
|»» faceId|string|true|none||none|
|»» faceUrl|string|true|none||none|
|»» alipayId|string|true|none||none|
|»» email|string|true|none||none|
|»» sex|integer|true|none||none|
|»» isCadre|integer|true|none||none|
|»» status|integer|true|none||none|
|»» payType|integer|true|none||none|
|»» networkEnabled|integer|true|none||none|
|»» isDeleted|integer|true|none||none|
|» code|integer|true|none||none|

## GET 支付宝绑定登录URL

GET /oauth2/publicAppAuthorize.htm

前端专用。用户在点击绑定支付宝按钮后应的跳转链接，将跳转到支付宝官方界面输入用户名密码登录。

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|app_id|query|string| 是 ||开发者应用的 APPID|
|scope|query|string| 是 ||接口权限值，目前只支持 auth_user 和 auth_base 两个值，我们用user|
|redirect_uri|query|string| 是 ||回调页面，是经过转义的url链接（url 必须以 http 或者 https 开头），比如：http%3A%2F%2Fexample.com 在请求之前，开发者需要先到开发者中心对应应用内，配置授权回调地址。|
|state|query|string| 是 ||我们用这个来传token|

> 返回示例

> 200 Response

```json
{}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

## GET 支付宝第三方登录后回调

GET /api/user/bind/alipay/callback

支付宝第三方登录回调接口，属于支付宝应用回调地址，不允许前端直接访问。用于获取用户alipay_id。前端同样需要准备两个页面来做绑定成功的提示和绑定失败的提示。

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|app_id|query|string| 是 ||none|
|source|query|string| 是 ||none|
|scope|query|string| 是 ||接口权限值，目前只支持 auth_user 和 auth_base 两个值，我们用user|
|auth_code|query|string| 是 ||临时授权码，一次有效，auth_code 有效期为 3 分钟到 24 小时（开放平台规则会根据具体的业务场景动态调整 auth_code 的有效期，但是不会低于 3 分钟，同时也不会超过 24 小时），超过有效期的 auth_code 即使未使用也将无法使用。 用户的每次授权动作都会生成一个新的 auth_code。|
|state|query|string| 是 ||token|

> 返回示例

> 200 Response

```json
{}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

## GET 用户获取自己的个人信息

GET /api/user/user/info

用户通过此接口获取自己的个人信息 不需要参数 仅限于住户

> 返回示例

> 200 Response

```json
{}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

# user/通用

## PUT 用户修改自己的密码

PUT /api/user/password

旧密码与新密码均需要进行加密

> Body 请求参数

```json
{
  "oldPassword": "string",
  "newPassword": "string"
}
```

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|body|body|object| 否 ||none|
|» oldPassword|body|string| 是 | 旧密码|none|
|» newPassword|body|string| 是 | 新密码|none|

> 返回示例

> 200 Response

```json
{
  "code": 0,
  "msg": "string",
  "result": {}
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none|返回码|2000为正常 具体稍晚的时候我会给出一个YAML文件|
|» msg|string|false|none|提示|一般在返回异常的时候才会出现|
|» result|object|false|none|结果|一个map，包含了返回结果|

# management/外部单位

## POST 新增外部单位信息

POST /api/management/department

该接口需要输入地理位置经纬度，可以调用[高德地图JS API](https://lbs.amap.com/api/webservice/guide/api/inputtips)有关输入补全功能，配合AntD的异步联想输入框完成。高德地图的数据在返回时也是经度在前，纬度在后。

> Body 请求参数

```json
{
  "name": "string",
  "isInterior": 0,
  "payType": 0,
  "position": "string",
  "positionLongitude": 0,
  "positionLatitude": 0
}
```

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|body|body|object| 否 ||none|
|» name|body|string| 是 | 部门名称|none|
|» isInterior|body|integer| 是 | 是否内网单位|默认外网|
|» payType|body|integer| 是 | 部门缴费类型|按月 按季度|
|» position|body|string| 是 | 单位所在地名|none|
|» positionLongitude|body|number| 是 | 单位所在地点经度|none|
|» positionLatitude|body|number| 是 | 单位所在地点纬度|none|

> 返回示例

> 200 Response

```json
{
  "code": 0,
  "msg": "string",
  "result": {}
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none|返回码|2000为正常 具体稍晚的时候我会给出一个YAML文件|
|» msg|string|false|none|提示|一般在返回异常的时候才会出现|
|» result|object|false|none|结果|一个map，包含了返回结果|

## GET 查询外部单位信息列表

GET /api/management/department

通过此接口分页查询外部单位信息。基于经纬度搜索也可以使用高德地图输入提示功能。

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|pageNum|query|integer| 是 ||当前页号|
|pageSize|query|integer| 是 ||当前页面大小|
|query|query|string| 否 ||搜索字段|
|longitude|query|string| 否 ||基于该经度进行搜索。该字段应与纬度同时出现。|
|latitude|query|string| 否 ||基于该纬度进行搜索。该字段应与经度同时出现或空。|

> 返回示例

> 200 Response

```json
{
  "code": 0,
  "msg": "string",
  "result": {
    "list": [
      {}
    ],
    "total": 0
  }
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none|返回码|2000为正常 具体稍晚的时候我会给出一个YAML文件|
|» msg|string|false|none|提示|一般在返回异常的时候才会出现|
|» result|object|false|none|结果|一个map，包含了返回结果|
|»» list|[object]|true|none|结果列表|包含分页结果的数组|
|»» total|integer|true|none|总记录数|none|

## DELETE 删除外部单位信息

DELETE /api/management/department/{id}

使用该接口删除外部单位

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|id|path|string| 是 ||外部单位在department表中的id|

> 返回示例

> 200 Response

```json
{
  "code": 0,
  "msg": "string",
  "result": {}
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none|返回码|2000为正常 具体稍晚的时候我会给出一个YAML文件|
|» msg|string|false|none|提示|一般在返回异常的时候才会出现|
|» result|object|false|none|结果|一个map，包含了返回结果|

## PUT 修改外部单位信息

PUT /api/management/department/{id}

通过此接口修改外部单位信息

> Body 请求参数

```json
{
  "name": "string",
  "isInterior": 0,
  "payType": 0,
  "position": "string",
  "position_longitude": "string",
  "position_latitude": "string"
}
```

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|id|path|string| 是 ||外部单位在department表中的ID|
|body|body|object| 否 ||none|
|» name|body|string| 是 | 部门名称|none|
|» isInterior|body|integer| 是 | 是否内网单位|默认外网|
|» payType|body|integer| 是 | 部门缴费类型|按月 按季度|
|» position|body|string| 是 | 单位所在地名|none|
|» position_longitude|body|string| 是 | 单位所在地点经度|none|
|» position_latitude|body|string| 是 | 单位所在地点纬度|none|

> 返回示例

> 200 Response

```json
{
  "code": 0,
  "msg": "string",
  "result": {}
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none|返回码|2000为正常 具体稍晚的时候我会给出一个YAML文件|
|» msg|string|false|none|提示|一般在返回异常的时候才会出现|
|» result|object|false|none|结果|一个map，包含了返回结果|

## GET 查询外部单位信息简表

GET /api/management/department/list

注册时可调用该接口查询外部单位简表

> 返回示例

> 200 Response

```json
{
  "code": 0,
  "msg": "string",
  "result": {
    "list": [
      {
        "id": "string",
        "name": "string"
      }
    ]
  }
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none|返回码|2000为正常 具体稍晚的时候我会给出一个YAML文件|
|» msg|string|false|none|提示|一般在返回异常的时候才会出现|
|» result|object|false|none|结果|一个map，包含了返回结果|
|»» list|[object]|true|none|列表|一个包含了id与部门名称的列表|
|»»» id|string|true|none|ID|none|
|»»» name|string|true|none|外部单位名称|none|

## GET 查看外部单位详细信息

GET /api/management/department/detail

通过此接口查询某一外部单位的详细信息

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|id|query|string| 是 ||none|

> 返回示例

> 成功

```json
{
  "result": {
    "department": {
      "id": "11",
      "name": "杭州机辆段",
      "isInterior": 0,
      "payType": 1,
      "position": "杭州市上城区望江路辅路与始板桥直街交叉口",
      "positionLongitude": 120.273776,
      "positionLatitude": 30.390314,
      "isDeleted": 0
    },
    "admins": [
      {
        "name": "王旻安",
        "id": "6"
      }
    ]
  },
  "code": 2000
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none|返回码|2000为正常 具体稍晚的时候我会给出一个YAML文件|
|» msg|string|false|none|提示|一般在返回异常的时候才会出现|
|» result|object|false|none|结果|一个map，包含了返回结果|
|»» department|object|true|none|部门|部门本身|
|»» admins|[object]|true|none|管理员列表|none|

# management/公寓

## POST 新增公寓信息

POST /api/management/apartment

该接口需要输入地理位置经纬度，可以调用[高德地图JS API](https://lbs.amap.com/api/webservice/guide/api/inputtips)有关输入补全功能，配合AntD的异步联想输入框完成。高德地图的数据在返回时也是经度在前，纬度在后。

> Body 请求参数

```json
{
  "name": "string",
  "foremanAdminId": "string",
  "position": "string",
  "positionLongitude": "string",
  "positionLatitude": "string",
  "status": 0
}
```

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|body|body|object| 否 ||none|
|» name|body|string| 是 | 公寓名称|eg.望江门公寓|
|» foremanAdminId|body|string| 是 | 班组长ID|总负责该公寓的班组长的ID|
|» position|body|string| 是 | 公寓所在具体地名|none|
|» positionLongitude|body|string| 是 | 公寓所在地点经度|none|
|» positionLatitude|body|string| 是 | 公寓所在地点纬度|none|
|» status|body|integer| 是 | 公寓状态|0正常 1启用程序中 2弃用程序中 3已弃用 default 0|

> 返回示例

> 成功

```json
{
  "code": 2000
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none|返回码|2000为正常 具体稍晚的时候我会给出一个YAML文件|
|» msg|string|false|none|提示|一般在返回异常的时候才会出现|
|» result|object|false|none|结果|一个map，包含了返回结果|

## GET 查询公寓信息列表

GET /api/management/apartment

通过此接口分页查询外部单位信息。基于经纬度搜索也可以使用高德地图输入提示功能。

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|pageNum|query|integer| 是 ||当前页号|
|pageSize|query|integer| 是 ||当前页面大小|
|query|query|string| 否 ||关键字搜索字段|
|longitude|query|number| 否 ||基于该经度进行搜索。该字段应与纬度同时出现或空。 Long|
|latitude|query|number| 否 ||基于该纬度进行搜索。该字段应与经度同时出现或空。 Long|

> 返回示例

> 成功

```json
{
  "result": {
    "total": "2",
    "list": [
      {
        "id": "1",
        "foremanAdminId": "4",
        "name": "望江门单身宿舍",
        "position": "杭州市上城区浙江铁道生活实业发展有限公司望江门单身宿舍",
        "location": "30.237185,120.179488"
      },
      {
        "id": "3",
        "foremanAdminId": "4",
        "name": "望江门单身宿舍",
        "position": "杭州市上城区浙江铁道生活实业发展有限公司望江门单身宿舍",
        "location": "30.237185,120.179488"
      }
    ]
  },
  "code": 2000
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none|返回码|2000为正常 具体稍晚的时候我会给出一个YAML文件|
|» msg|string|false|none|提示|一般在返回异常的时候才会出现|
|» result|object|false|none|结果|一个map，包含了返回结果|
|»» list|[object]|true|none|结果列表|包含分页结果的数组|
|»» total|integer|true|none|总记录数|none|

## DELETE 删除公寓信息

DELETE /api/management/apartment/{id}

使用该接口删除公寓

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|id|path|string| 是 ||该公寓在apartment表中的ID|

> 返回示例

> 200 Response

```json
{
  "code": 0,
  "msg": "string",
  "result": {}
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none|返回码|2000为正常 具体稍晚的时候我会给出一个YAML文件|
|» msg|string|false|none|提示|一般在返回异常的时候才会出现|
|» result|object|false|none|结果|一个map，包含了返回结果|

## PUT 修改公寓信息

PUT /api/management/apartment/{id}

通过此接口修改公寓信息

> Body 请求参数

```json
{
  "name": "string",
  "foremanAdminId": "string",
  "position": "string",
  "positionLongitude": 0,
  "positionLatitude": 0,
  "status": 0
}
```

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|id|path|string| 是 ||公寓在apartment表中的ID|
|body|body|object| 否 ||none|
|» name|body|string| 是 | 公寓名称|eg.望江门公寓|
|» foremanAdminId|body|string| 是 | 班组长ID|总负责该公寓的班组长的ID|
|» position|body|string| 是 | 公寓所在具体地名|none|
|» positionLongitude|body|number| 是 | 公寓所在地点经度|none|
|» positionLatitude|body|number| 是 | 公寓所在地点纬度|none|
|» status|body|integer| 是 | 公寓状态|0正常 1启用程序中 2弃用程序中 3已弃用 default 0|

> 返回示例

> 200 Response

```json
{
  "code": 0,
  "msg": "string",
  "result": {}
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none|返回码|2000为正常 具体稍晚的时候我会给出一个YAML文件|
|» msg|string|false|none|提示|一般在返回异常的时候才会出现|
|» result|object|false|none|结果|一个map，包含了返回结果|

## GET 查询公寓信息简表

GET /api/management/apartment/list

获取公寓信息简表

> 返回示例

> 200 Response

```json
{
  "code": 0,
  "msg": "string",
  "result": {
    "list": [
      {
        "id": "string",
        "name": "string"
      }
    ]
  }
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none|返回码|2000为正常 具体稍晚的时候我会给出一个YAML文件|
|» msg|string|false|none|提示|一般在返回异常的时候才会出现|
|» result|object|false|none|结果|一个map，包含了返回结果|
|»» list|[object]|true|none|列表|包含了公寓id与名称的列表|
|»»» id|string|true|none|ID|none|
|»»» name|string|true|none|公寓名称|none|

## GET 查询公寓详细信息

GET /api/management/apartment/detail

通过该接口获取某一公寓详细信息。应该提供地点详细预览。

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|id|query|string| 是 ||公寓在apartment表中的ID|

> 返回示例

> 成功

```json
{
  "result": {
    "id": "1",
    "foremanAdminId": "4",
    "name": "望江门单身宿舍",
    "position": "杭州市上城区浙江铁道生活实业发展有限公司望江门单身宿舍",
    "positionLongitude": "120.179488",
    "positionLatitude": "30.237185",
    "status": "0"
  },
  "code": 2000
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» result|object|true|none||none|
|»» id|string|true|none||none|
|»» foremanAdminId|string|true|none||none|
|»» name|string|true|none||none|
|»» position|string|true|none||none|
|»» positionLongitude|string|true|none||none|
|»» positionLatitude|string|true|none||none|
|»» status|string|true|none||none|
|» code|integer|true|none||none|

## GET 宿舍分配员用-查询公寓信息列表

GET /api/management/apartment/center/list

宿舍分配员使用该接口查询公寓信息列表。该接口与通用接口不同的是，将根据传入的住宿职工ID查找对应的工作单位信息，然后就单位坐标进行匹配，返回公寓列表，距离与住宿职工单位距离由进及远。不支持关键字搜索。

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|pageNum|query|integer| 是 ||当前页号|
|pageSize|query|integer| 是 ||当前页面大小|
|userId|query|integer| 是 ||住户ID|

> 返回示例

> 成功

```json
{
  "result": {
    "total": "7",
    "list": [
      {
        "id": "1",
        "foremanAdminId": "6",
        "name": "望江门单身宿舍一",
        "position": "杭州市上城区浙江铁道生活实业发展有限公司望江门单身宿舍",
        "location": "30.237185,120.179488"
      },
      {
        "id": "6",
        "foremanAdminId": "6",
        "name": "望江门单身宿舍二",
        "position": "杭州市上城区浙江铁道生活实业发展有限公司望江门单身宿舍",
        "location": "31.237185,121.179488"
      },
      {
        "id": "8",
        "foremanAdminId": "6",
        "name": "望江门单身宿舍四",
        "position": "杭州市上城区浙江铁道生活实业发展有限公司望江门单身宿舍",
        "location": "33.237185,123.179488"
      },
      {
        "id": "9",
        "foremanAdminId": "6",
        "name": "望江门单身宿舍五",
        "position": "杭州市上城区浙江铁道生活实业发展有限公司望江门单身宿舍",
        "location": "34.237185,124.179488"
      },
      {
        "id": "10",
        "foremanAdminId": "6",
        "name": "望江门单身宿舍六",
        "position": "杭州市上城区浙江铁道生活实业发展有限公司望江门单身宿舍",
        "location": "35.237185,125.179488"
      },
      {
        "id": "13",
        "foremanAdminId": "6",
        "name": "望江门单身宿舍九",
        "position": "杭州市上城区浙江铁道生活实业发展有限公司望江门单身宿舍",
        "location": "38.237185,128.179488"
      },
      {
        "id": "14",
        "foremanAdminId": "6",
        "name": "望江门单身宿舍十",
        "position": "杭州市上城区浙江铁道生活实业发展有限公司望江门单身宿舍",
        "location": "39.237185,129.179488"
      }
    ]
  },
  "code": 2000
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

# management/房间

## POST 新增房间信息

POST /api/management/room

通过该接口新增房间。使用查询公寓简表来选择该房间所在的公寓。

> Body 请求参数

```json
{
  "apartmentId": 0,
  "name": "string",
  "usage": "string",
  "isForCadre": true,
  "isReserved": true,
  "type": 0,
  "totalFee": 0,
  "selfPayFee": 0,
  "refundFee": 0,
  "sex": 0
}
```

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|body|body|object| 否 ||none|
|» apartmentId|body|integer| 是 | 公寓ID|该房间所在公寓的ID|
|» name|body|string| 是 | 房间名称|eg. 1-101|
|» usage|body|string| 是 | 房间用途|eg. 住宿 班组长休息室|
|» isForCadre|body|boolean| 是 | 是否干部房间|none|
|» isReserved|body|boolean| 是 | 是否保留房间|none|
|» type|body|integer| 是 | 房间类型|1单人间 2双人间 3三人间 4四人间(极少)|
|» totalFee|body|integer| 是 | 房间总价|none|
|» selfPayFee|body|integer| 是 | 自理部分价格|none|
|» refundFee|body|integer| 是 | 单位报销部分价格|none|
|» sex|body|integer| 是 | 性别|none|

> 返回示例

> 200 Response

```json
{
  "code": 0,
  "msg": "string",
  "result": {}
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none|返回码|2000为正常 具体稍晚的时候我会给出一个YAML文件|
|» msg|string|false|none|提示|一般在返回异常的时候才会出现|
|» result|object|false|none|结果|一个map，包含了返回结果|

## GET 查询所有房间信息列表

GET /api/management/room

通过此接口分页查询房间信息。该接口和查询非保留房间列表属于不同权限级别可调用接口，需要注意使用场合。

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|pageNum|query|integer| 是 ||当前页号|
|pageSize|query|integer| 是 ||当前页面大小|
|apartmentId|query|integer| 是 ||宿舍ID 必须输入 可以在前端给一个默认值以保证页面上有数据|
|query|query|string| 否 ||搜索字段|
|isForCadre|query|string| 否 ||是否干部房|
|type|query|integer| 否 ||房间类型 单人/双人/三人/四人|

> 返回示例

> 200 Response

```json
{
  "code": 0,
  "msg": "string",
  "result": {
    "list": [
      {}
    ],
    "total": 0
  }
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none|返回码|2000为正常 具体稍晚的时候我会给出一个YAML文件|
|» msg|string|false|none|提示|一般在返回异常的时候才会出现|
|» result|object|false|none|结果|一个map，包含了返回结果|
|»» list|[object]|true|none|结果列表|包含分页结果的数组|
|»» total|integer|true|none|总记录数|none|

## DELETE 删除房间信息

DELETE /api/management/room/{id}

使用该接口删除房间

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|id|path|string| 是 ||该房间在room表中的ID|

> 返回示例

> 200 Response

```json
{
  "code": 0,
  "msg": "string",
  "result": {}
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none|返回码|2000为正常 具体稍晚的时候我会给出一个YAML文件|
|» msg|string|false|none|提示|一般在返回异常的时候才会出现|
|» result|object|false|none|结果|一个map，包含了返回结果|

## PUT 修改房间信息

PUT /api/management/room/{id}

通过此接口修改房间信息

> Body 请求参数

```json
{
  "apartmentId": 0,
  "name": "string",
  "usage": "string",
  "isForCadre": 0,
  "isReserved": 0,
  "type": 0,
  "totalFee": 0,
  "selfPayFee": 0,
  "refundFee": 0,
  "sex": 0
}
```

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|id|path|string| 是 ||该房间在room表中的ID|
|body|body|object| 否 ||none|
|» apartmentId|body|number| 是 | 公寓ID|该房间所在公寓的ID|
|» name|body|string| 是 | 房间名称|eg. 1-101|
|» usage|body|string| 是 | 房间用途|eg. 住宿 班组长休息室|
|» isForCadre|body|integer| 是 | 是否干部房间|none|
|» isReserved|body|integer| 是 | 是否保留房间|none|
|» type|body|integer| 是 | 房间类型|1单人间 2双人间 3三人间 4四人间(极少)|
|» totalFee|body|integer| 是 | 房间总价|none|
|» selfPayFee|body|integer| 是 | 自理部分价格|none|
|» refundFee|body|integer| 是 | 单位报销部分价格|none|
|» sex|body|integer| 是 | 性别|none|

> 返回示例

> 200 Response

```json
{
  "code": 0,
  "msg": "string",
  "result": {}
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none|返回码|2000为正常 具体稍晚的时候我会给出一个YAML文件|
|» msg|string|false|none|提示|一般在返回异常的时候才会出现|
|» result|object|false|none|结果|一个map，包含了返回结果|

## GET 查询非保留房间列表

GET /api/management/room/unreserved

通过此接口分页查询房间信息。该接口和查看所有房间列表属于不同权限级别可调用接口，需要注意使用场合。

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|pageNum|query|integer| 是 ||当前页号|
|pageSize|query|integer| 是 ||当前页面大小|
|apartmentId|query|string| 是 ||宿舍ID 必须输入 可以在前端给一个默认值以保证页面上有数据|
|query|query|string| 否 ||搜索字段|
|isForCadre|query|string| 否 ||是否干部房|
|type|query|integer| 否 ||房间类型 单人/双人/三人/四人|

> 返回示例

> 200 Response

```json
{
  "code": 0,
  "msg": "string",
  "result": {
    "list": [
      {}
    ],
    "total": 0
  }
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none|返回码|2000为正常 具体稍晚的时候我会给出一个YAML文件|
|» msg|string|false|none|提示|一般在返回异常的时候才会出现|
|» result|object|false|none|结果|一个map，包含了返回结果|
|»» list|[object]|true|none|结果列表|包含分页结果的数组|
|»» total|integer|true|none|总记录数|none|

## GET 查询房间详细信息

GET /api/management/room/detail

使用此接口查询某一房间详细信息

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|id|query|string| 是 ||该房间在room表中的ID|

> 返回示例

> 200 Response

```json
{
  "code": 0,
  "msg": "string",
  "result": {
    "room": {},
    "beds": [
      {}
    ]
  }
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none|返回码|2000为正常 具体稍晚的时候我会给出一个YAML文件|
|» msg|string|false|none|提示|一般在返回异常的时候才会出现|
|» result|object|false|none|结果|一个map，包含了返回结果|
|»» room|object|true|none||对应room表的信息|
|»» beds|[object]|true|none||对应该room中的床位|

# management/床位

## POST 新增床位信息

POST /api/management/bed

新增床位接口。在调用时需要后端校验该房间是否存在同名床位。

> Body 请求参数

```json
{
  "roomId": "string",
  "name": "string"
}
```

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|body|body|object| 否 ||none|
|» roomId|body|string| 是 | 房间ID|none|
|» name|body|string| 是 | 床位名称|none|

> 返回示例

> 200 Response

```json
{
  "code": 0,
  "msg": "string",
  "result": {}
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none|返回码|2000为正常 具体稍晚的时候我会给出一个YAML文件|
|» msg|string|false|none|提示|一般在返回异常的时候才会出现|
|» result|object|false|none|结果|一个map，包含了返回结果|

## GET 查询床位信息

GET /api/management/bed

查询床位信息。去拿result里面的list元素。

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|pageNum|query|integer| 是 ||当前页号|
|pageSize|query|integer| 是 ||当前页面大小|
|query|query|string| 否 ||搜索字段|
|apartmentId|query|string| 否 ||床位所在公寓ID|
|roomId|query|string| 否 ||床位所在房间ID|
|isInUse|query|integer| 否 ||床位是否使用中|

> 返回示例

> 200 Response

```json
{
  "code": 0,
  "msg": "string",
  "result": {}
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none|返回码|2000为正常 具体稍晚的时候我会给出一个YAML文件|
|» msg|string|false|none|提示|一般在返回异常的时候才会出现|
|» result|object|false|none|结果|一个map，包含了返回结果|

## DELETE 删除床位信息

DELETE /api/management/bed/{id}

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|id|path|string| 是 ||该床位在bed表中的id|

> 返回示例

> 200 Response

```json
{
  "code": 0,
  "msg": "string",
  "result": {}
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none|返回码|2000为正常 具体稍晚的时候我会给出一个YAML文件|
|» msg|string|false|none|提示|一般在返回异常的时候才会出现|
|» result|object|false|none|结果|一个map，包含了返回结果|

## PUT 修改床位信息

PUT /api/management/bed/{id}

> Body 请求参数

```json
{
  "roomId": "string",
  "name": "string",
  "receiptId": "string",
  "isInUse": 0
}
```

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|id|path|string| 是 ||该床位在bed表中的id|
|body|body|object| 否 ||none|
|» roomId|body|string| 是 | 房间ID|none|
|» name|body|string| 是 | 床位名称|none|
|» receiptId|body|string| 否 | 押金收据单号|none|
|» isInUse|body|integer| 否 | 床位是否正在使用中|none|

> 返回示例

> 200 Response

```json
{
  "code": 0,
  "msg": "string",
  "result": {}
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none|返回码|2000为正常 具体稍晚的时候我会给出一个YAML文件|
|» msg|string|false|none|提示|一般在返回异常的时候才会出现|
|» result|object|false|none|结果|一个map，包含了返回结果|

## GET 查询床位详细信息

GET /api/management/bed/detail

使用此接口查询某一床位

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|id|query|string| 是 ||该床位在bed表中的ID|

> 返回示例

> 200 Response

```json
{
  "code": 0,
  "msg": "string",
  "result": {
    "bed": {},
    "resident": {}
  }
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none|返回码|2000为正常 具体稍晚的时候我会给出一个YAML文件|
|» msg|string|false|none|提示|一般在返回异常的时候才会出现|
|» result|object|false|none|结果|一个map，包含了返回结果|
|»» bed|object|true|none||对应bed表的信息|
|»» resident|object|true|none||对应该该床位对应的住户|

# management/用户住宿信息

## GET 查询用户个人住宿信息

GET /api/management/user/living/message

用户自己查询自己的住宿信息

> 返回示例

> 200 Response

```json
{
  "code": 0,
  "msg": "string",
  "result": {
    "apartment": {},
    "room": {},
    "bed": {},
    "department": {}
  }
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none||none|
|» msg|string|false|none||none|
|» result|object|true|none||none|
|»» apartment|object|true|none||none|
|»» room|object|true|none||none|
|»» bed|object|true|none||none|
|»» department|object|true|none||none|

# application/住宿职工

## POST 用户提交申请

POST /api/application/apply

用户需要通过该接口发起申请，包括入住、调宿、退宿申请。注意需要做大量预校验。有处理中的application的用户将不被允许发起信申请。

> Body 请求参数

```json
{
  "type": 0,
  "fileUrl": "string"
}
```

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|body|body|object| 否 ||none|
|» type|body|integer| 是 | 申请类别|0入住、1调宿、2退宿|
|» fileUrl|body|string| 是 | 申请材料URL|none|

> 返回示例

> 成功

```json
{
  "code": 2000
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none|返回码|2000为正常 具体稍晚的时候我会给出一个YAML文件|
|» msg|string|false|none|提示|一般在返回异常的时候才会出现|
|» result|object|false|none|结果|一个map，包含了返回结果|

## GET 用户查看申请列表

GET /api/application/apply/status

用户通过此接口查看历史申请与申请进展。根据更新时间倒序排列。有关申请状态值的emun已经放在内部说明文档里了。这里不放了。

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|pageNum|query|integer| 是 ||当前页号|
|pageSize|query|integer| 是 ||当前页面大小|

> 返回示例

> 成功

```json
{
  "result": {
    "list": [],
    "total": "0"
  },
  "code": 2000
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none|返回码|2000为正常 具体稍晚的时候我会给出一个YAML文件|
|» msg|string|false|none|提示|一般在返回异常的时候才会出现|
|» result|object|false|none|结果|一个map，包含了返回结果|
|»» list|[object]|true|none|结果列表|包含分页结果的数组|
|»» total|integer|true|none|总记录数|none|

## PUT 用户撤回申请

PUT /api/application/apply/{id}

用户通过该接口撤回进行中的申请

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|id|path|integer| 是 ||该申请在application表中的ID|

> 返回示例

> 成功

```json
{
  "code": 2000
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none|返回码|2000为正常 具体稍晚的时候我会给出一个YAML文件|
|» msg|string|false|none|提示|一般在返回异常的时候才会出现|
|» result|object|false|none|结果|一个map，包含了返回结果|

## GET 用户查看某一具体申请信息

GET /api/application/apply/status/{id}

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|id|path|string| 是 ||申请在application表的ID|

> 返回示例

> 200 Response

```json
{
  "code": 0,
  "msg": "string",
  "result": {}
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none|返回码|2000为正常 具体稍晚的时候我会给出一个YAML文件|
|» msg|string|false|none|提示|一般在返回异常的时候才会出现|
|» result|object|false|none|结果|一个map，包含了返回结果|

# application/外部单位

## POST 单位审核申请

POST /api/application/apply/status/department

申请可以是入住、调宿与退宿。审核通过后将流转到下一阶段。

> Body 请求参数

```json
{
  "id": "string",
  "pass": true
}
```

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|body|body|object| 否 ||none|
|» id|body|string| 是 | 申请ID|该申请在application表中的ID|
|» pass|body|boolean| 是 | 是否通过该申请|none|

> 返回示例

> 成功

```json
{
  "code": 2000
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none|返回码|2000为正常 具体稍晚的时候我会给出一个YAML文件|
|» msg|string|false|none|提示|一般在返回异常的时候才会出现|
|» result|object|false|none|结果|一个map，包含了返回结果|

## GET 单位查看待办申请列表

GET /api/application/apply/status/department

其他单位住宿管理人员通过此接口查看申请列表，理论上可以结合user\-用户中`获取用户详细信息`接口一起使用，以查看住宿职工当前状态。接口根据token自动提取登录的管理员信息。请使用13777864452调试。该接口仅展示提交后需要外部单位审核的申请。

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|pageNum|query|integer| 是 ||页面大小|
|pageSize|query|integer| 是 ||页面记录数|

> 返回示例

> 成功

```json
{
  "result": {
    "total": "1",
    "list": [
      {
        "id": "2",
        "userId": "1",
        "paymentId": "",
        "type": 0,
        "fileUrl": "https://wangminan-shanghai-files.oss-cn-shanghai.aliyuncs.com/apartment/user/application/2023/07/%E7%8E%8B%E6%97%BB%E5%AE%89_%E5%85%A5%E4%BD%8F%E7%94%B3%E8%AF%B7_20230701.docx",
        "applicationStatus": 11,
        "depositStatus": 0,
        "createTime": "2023-07-01 15:28:53",
        "updateTime": "2023-07-01 15:28:53"
      }
    ]
  },
  "code": 2000
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none|返回码|2000为正常 具体稍晚的时候我会给出一个YAML文件|
|» msg|string|false|none|提示|一般在返回异常的时候才会出现|
|» result|object|false|none|结果|一个map，包含了返回结果|
|»» list|[object]|true|none|结果列表|包含分页结果的数组|
|»» total|integer|true|none|总记录数|none|

# application/房建公寓段

## GET 入住/调宿办理人员查看入住申请列表

GET /api/application/apply/status/center/checkin

入住办理人员通过此接口查看进行中的入住申请列表。

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|pageNum|query|integer| 是 ||第几页|
|pageSize|query|integer| 是 ||页面记录数量|

> 返回示例

> 200 Response

```json
{
  "code": 0,
  "msg": "string",
  "result": {
    "list": [
      {}
    ],
    "total": 0
  }
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none|返回码|2000为正常 具体稍晚的时候我会给出一个YAML文件|
|» msg|string|false|none|提示|一般在返回异常的时候才会出现|
|» result|object|false|none|结果|一个map，包含了返回结果|
|»» list|[object]|true|none|结果列表|包含分页结果的数组|
|»» total|integer|true|none|总记录数|none|

## POST 入住/调宿办理人员审核入住申请

POST /api/application/apply/status/center/checkin

入住办理人员通过该接口审核入住申请。如果通过该申请则流转到下一阶段。注意：调宿申请在房建公寓段不需要经过入住办理人员。

> Body 请求参数

```json
{
  "id": "string",
  "pass": true
}
```

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|body|body|object| 否 ||none|
|» id|body|string| 是 | 该申请在application表中的ID|none|
|» pass|body|boolean| 是 | 是否通过该申请|none|

> 返回示例

> 200 Response

```json
{
  "code": 0,
  "msg": "string",
  "result": {}
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none|返回码|2000为正常 具体稍晚的时候我会给出一个YAML文件|
|» msg|string|false|none|提示|一般在返回异常的时候才会出现|
|» result|object|false|none|结果|一个map，包含了返回结果|

## GET 宿舍分配人员查看申请列表

GET /api/application/apply/status/center

宿舍分配人员查看申请列表

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|pageNum|query|integer| 是 ||第几页|
|pageSize|query|integer| 是 ||页面大小|

> 返回示例

> 成功

```json
{
  "result": {
    "total": "4",
    "list": [
      {
        "id": "5",
        "userId": "2",
        "paymentId": "",
        "type": 0,
        "fileUrl": "https://wangminan-shanghai-files.oss-cn-shanghai.aliyuncs.com/apartment/user/application/2023/7/%E7%8E%8B%E6%97%BB%E5%AE%89_%E5%85%A5%E4%BD%8F%E7%94%B3%E8%AF%B7NaN2023-7-5.pdf_1688527409747_62060000120000.pdf",
        "applicationStatus": 13,
        "depositStatus": 0,
        "createTime": "2023-07-04 11:23:33",
        "updateTime": "2023-07-05 11:23:33"
      },
      {
        "id": "6",
        "userId": "2",
        "paymentId": "",
        "type": 0,
        "fileUrl": "https://wangminan-shanghai-files.oss-cn-shanghai.aliyuncs.com/apartment/user/application/2023/7/%E7%8E%8B%E6%97%BB%E5%AE%89_%E5%85%A5%E4%BD%8F%E7%94%B3%E8%AF%B7NaN2023-7-5.pdf_1688527409747_62060000120000.pdf",
        "applicationStatus": 13,
        "depositStatus": 0,
        "createTime": "2023-07-06 11:23:33",
        "updateTime": "2023-07-05 11:23:33"
      },
      {
        "id": "7",
        "userId": "3",
        "paymentId": "",
        "type": 0,
        "fileUrl": "https://wangminan-shanghai-files.oss-cn-shanghai.aliyuncs.com/apartment/user/application/2023/7/%E7%8E%8B%E6%97%BB%E5%AE%89_%E5%85%A5%E4%BD%8F%E7%94%B3%E8%AF%B7NaN2023-7-5.pdf_1688527409747_62060000120000.pdf",
        "applicationStatus": 23,
        "depositStatus": 0,
        "createTime": "2023-07-07 11:23:33",
        "updateTime": "2023-07-05 11:23:33"
      },
      {
        "id": "8",
        "userId": "3",
        "paymentId": "",
        "type": 0,
        "fileUrl": "https://wangminan-shanghai-files.oss-cn-shanghai.aliyuncs.com/apartment/user/application/2023/7/%E7%8E%8B%E6%97%BB%E5%AE%89_%E5%85%A5%E4%BD%8F%E7%94%B3%E8%AF%B7NaN2023-7-5.pdf_1688527409747_62060000120000.pdf",
        "applicationStatus": 23,
        "depositStatus": 0,
        "createTime": "2023-07-08 11:23:33",
        "updateTime": "2023-07-05 11:23:33"
      }
    ]
  },
  "code": 2000
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» result|object|true|none||none|
|»» total|string|true|none||none|
|»» list|[object]|true|none||none|
|»»» id|string|true|none||none|
|»»» userId|string|true|none||none|
|»»» paymentId|string|true|none||none|
|»»» type|integer|true|none||none|
|»»» fileUrl|string|true|none||none|
|»»» applicationStatus|integer|true|none||none|
|»»» depositStatus|integer|true|none||none|
|»»» createTime|string|true|none||none|
|»»» updateTime|string|true|none||none|
|» code|integer|true|none||none|

## POST 宿舍分配人员分配床位

POST /api/application/apply/status/center

如果宿舍分配人员通过了人员入住申请，则需要为其分配宿舍。可以先使用management\-房间模块的`查询非保留房间列表`接口，结合人事命令判断是否应当分配干部专用房间。然后使用management\-床位模块的`查询床位信息`接口，将is_in_use参数指定为false，以供筛选。在该阶段审核通过后用户表的bed_id字段即可完成更新。

> Body 请求参数

```json
{
  "id": "string",
  "bedId": "string"
}
```

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|body|body|object| 否 ||none|
|» id|body|string| 是 | 该申请在application表中的ID|none|
|» bedId|body|string| 否 | 床位ID|如果通过审核则该字段必填|

> 返回示例

> 200 Response

```json
{
  "code": 0,
  "msg": "string",
  "result": {}
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none|返回码|2000为正常 具体稍晚的时候我会给出一个YAML文件|
|» msg|string|false|none|提示|一般在返回异常的时候才会出现|
|» result|object|false|none|结果|一个map，包含了返回结果|

# application/宿舍班组

## GET 公寓班组长查看待办列表

GET /api/application/apply/status/apartment

班组长需要
+ 在入住、调宿进入职工到达时进行确认，并给钥匙。在该阶段进行前应当要求用户缴纳押金。缴纳押金调用的是payment模块的服务
+ 在住宿职工调宿离开、退宿时确认，收钥匙。班组长确认后押金将会原路退回。

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|pageNum|query|integer| 是 ||当前页号|
|pageSize|query|integer| 是 ||当前页面大小|

> 返回示例

> 成功

```json
{
  "result": {
    "total": "2",
    "list": [
      {
        "id": "10",
        "userId": "12",
        "paymentId": "",
        "type": 0,
        "fileUrl": "https://wangminan-shanghai-files.oss-cn-shanghai.aliyuncs.com/apartment/user/application/2023/7/%E8%BF%98%E6%98%AF%E7%8E%8B%E6%97%BB%E5%AE%89_%E5%85%A5%E4%BD%8F%E7%94%B3%E8%AF%B7NaN2023-7-6.pdf_1688618264749_a550000950000.pdf",
        "applicationStatus": 15,
        "depositStatus": 0,
        "createTime": "2023-07-06 12:37:50",
        "updateTime": "2023-07-06 12:54:10"
      },
      {
        "id": "7",
        "userId": "3",
        "paymentId": "",
        "type": 0,
        "fileUrl": "https://wangminan-shanghai-files.oss-cn-shanghai.aliyuncs.com/apartment/user/application/2023/7/%E7%8E%8B%E6%97%BB%E5%AE%89_%E5%85%A5%E4%BD%8F%E7%94%B3%E8%AF%B7NaN2023-7-5.pdf_1688527409747_62060000120000.pdf",
        "applicationStatus": 24,
        "depositStatus": 0,
        "createTime": "2023-07-07 11:23:33",
        "updateTime": "2023-07-06 10:12:37"
      }
    ]
  },
  "code": 2000
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» result|object|true|none||none|
|»» total|string|true|none||none|
|»» list|[object]|true|none||none|
|»»» id|string|true|none||none|
|»»» userId|string|true|none||none|
|»»» paymentId|string|true|none||none|
|»»» type|integer|true|none||none|
|»»» fileUrl|string|true|none||none|
|»»» applicationStatus|integer|true|none||none|
|»»» depositStatus|integer|true|none||none|
|»»» createTime|string|true|none||none|
|»»» updateTime|string|true|none||none|
|» code|integer|true|none||none|

## POST 公寓班组长处理入住/退宿

POST /api/application/apply/status/apartment

公寓班组长在这一阶段的工作其实就是确认收/发钥匙。

> Body 请求参数

```json
{
  "id": "string",
  "pass": true
}
```

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|body|body|object| 否 ||none|
|» id|body|string| 是 | 该申请在application表中的ID|none|
|» pass|body|boolean| 是 | 确认入住/离开|这个值只能是true|

> 返回示例

> 200 Response

```json
{
  "code": 0,
  "msg": "string",
  "result": {}
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none|返回码|2000为正常 具体稍晚的时候我会给出一个YAML文件|
|» msg|string|false|none|提示|一般在返回异常的时候才会出现|
|» result|object|false|none|结果|一个map，包含了返回结果|

# message/发送者

## POST 发送站内信

POST /api/message/sender/send

管理员层通过本接口发送站内信，提供了一对多发送的方式。

> Body 请求参数

```json
{
  "senderAdminId": "string",
  "receiverAdminIds": [
    "string"
  ],
  "receiverUserIds": [
    "string"
  ],
  "message": "string"
}
```

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|body|body|object| 否 ||none|
|» senderAdminId|body|string| 是 | 发送的管理员的ID|none|
|» receiverAdminIds|body|[string]| 否 | 接受的管理员ID数组|与receiverUserIds不可同时为空|
|» receiverUserIds|body|[string]| 否 | 接收的用户ID数组|none|
|» message|body|string| 是 | 消息内容|markdown格式|

> 返回示例

> 200 Response

```json
{
  "code": 0,
  "msg": "string",
  "result": {}
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none|返回码|2000为正常 具体稍晚的时候我会给出一个YAML文件|
|» msg|string|false|none|提示|一般在返回异常的时候才会出现|
|» result|object|false|none|结果|一个map，包含了返回结果|

## GET 查看发件箱

GET /api/message/sender/outbox

用户通过次接口查看自己的发件箱。分页，结果根据发信时间倒序排列。我们为用户提供简单的搜索。在ES中的DOC结构应该是基于`message_detail`的扩展。需要引入数组结构存储。

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|pageNum|query|integer| 是 ||当前页号|
|pageSize|query|integer| 是 ||页面记录数|
|query|query|string| 否 ||搜索关键词|

> 返回示例

> 200 Response

```json
{
  "code": 0,
  "msg": "string",
  "result": {}
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none|返回码|2000为正常 具体稍晚的时候我会给出一个YAML文件|
|» msg|string|false|none|提示|一般在返回异常的时候才会出现|
|» result|object|false|none|结果|一个map，包含了返回结果|

## GET 查看发信具体信息

GET /api/message/sender/outbox/detail

通过本接口查看发信具体信息。双表联合查询。返回本条站内信详细信息。将显示用户ACK的情况。建议给ACK列表加一个到用户详细信息的超链接。

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|id|query|string| 是 ||message_detail表中的ID|

> 返回示例

> 200 Response

```json
{
  "code": 0,
  "msg": "string",
  "result": {}
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none|返回码|2000为正常 具体稍晚的时候我会给出一个YAML文件|
|» msg|string|false|none|提示|一般在返回异常的时候才会出现|
|» result|object|false|none|结果|一个map，包含了返回结果|

## PUT 撤回发信

PUT /api/message/sender/outbox/{id}

发信者可通过本接口撤回站内信，则撤回标志将会变动，同时删除`message_receiving`表中的有关一切记录。

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|id|path|string| 是 ||需要撤回的件在message_detail表中的ID|

> 返回示例

> 200 Response

```json
{
  "code": 0,
  "msg": "string",
  "result": {}
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none|返回码|2000为正常 具体稍晚的时候我会给出一个YAML文件|
|» msg|string|false|none|提示|一般在返回异常的时候才会出现|
|» result|object|false|none|结果|一个map，包含了返回结果|

## DELETE 删除发信

DELETE /api/message/sender/outbox/{id}

用户通过次按钮删除发信。需要与撤回进行区别。此处的删除操作仅是使该件对发送者不可见，用户仍可见。

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|id|path|string| 是 ||需要删除的件在message_detail表中的ID|

> 返回示例

> 200 Response

```json
{
  "code": 0,
  "msg": "string",
  "result": {}
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none|返回码|2000为正常 具体稍晚的时候我会给出一个YAML文件|
|» msg|string|false|none|提示|一般在返回异常的时候才会出现|
|» result|object|false|none|结果|一个map，包含了返回结果|

# message/接收者

## GET 查看收件箱

GET /api/message/receiver/inbox

用户通过此接口查看收件箱。根据信件发送时间排列，提供搜索。可以结合用户角色缩小搜索范围。

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|pageNum|query|integer| 是 ||当前页号|
|pageSize|query|integer| 是 ||页面记录数|
|query|query|string| 否 ||搜索关键词|

#### 详细说明

**pageNum**: 当前页号

> 返回示例

> 成功

```json
{
  "result": {
    "total": "1",
    "list": [
      {
        "id": "29",
        "message": "22222",
        "senderAdminId": "8",
        "senderAdminName": "GaoYangxu",
        "isWithdraw": "0",
        "receiverIds": [
          "3",
          "9"
        ],
        "createTime": "2023-07-05 15:46"
      }
    ]
  },
  "code": 2000
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» result|object|true|none||none|
|»» total|string|true|none||none|
|»» list|[object]|true|none||none|
|»»» id|string|false|none||none|
|»»» message|string|false|none||none|
|»»» senderAdminId|string|false|none||none|
|»»» senderAdminName|string|false|none||none|
|»»» isWithdraw|string|false|none||none|
|»»» receiverIds|[string]|false|none||none|
|»»» createTime|string|false|none||none|
|» code|integer|true|none||none|

## GET 查看收信具体信息

GET /api/message/receiver/inbox/detail

用户在调用此接口时自动ACK。

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|id|query|string| 是 ||message_detail表中的ID|

> 返回示例

> 成功

```json
{
  "result": {
    "messageDetail": {
      "id": "29",
      "message": "22222",
      "senderAdminId": "8",
      "createTime": "2023-07-05 15:46:31",
      "isWithdrawn": 0,
      "isDeleted": 0
    },
    "senderAdmin": {
      "id": "8",
      "loginAccountId": "13",
      "name": "GaoYangxu",
      "departmentId": "8",
      "email": "gaoyangxu@qq.com",
      "isDeleted": 0
    }
  },
  "code": 2000
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none|返回码|2000为正常 具体稍晚的时候我会给出一个YAML文件|
|» msg|string|false|none|提示|一般在返回异常的时候才会出现|
|» result|object|false|none|结果|一个map，包含了返回结果|

## DELETE 删除收信

DELETE /api/message/receiver/inbox/{id}

用户通过次按钮删除收信。此处的删除操作仅是使该件对接收者不可见。未ACK的信件不允许删除。

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|id|path|string| 是 ||message_detail表中的ID|

> 返回示例

> 200 Response

```json
{
  "code": 0,
  "msg": "string",
  "result": {}
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none|返回码|2000为正常 具体稍晚的时候我会给出一个YAML文件|
|» msg|string|false|none|提示|一般在返回异常的时候才会出现|
|» result|object|false|none|结果|一个map，包含了返回结果|

# finance/职工

## POST 职工发起支付

POST /api/finance/user/pay/{id}

前端通过请求此接口向后端发起收款请求。后端将会返回一段JavaScript代码供前端直接执行跳转。押金退款将由后端直接执行。不需要前端发起调用。

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|id|path|string| 是 ||payment_user表对应ID|

> 返回示例

> 200 Response

```json
{
  "code": 0,
  "msg": "string",
  "result": {
    "url": "string",
    "paymentId": "string"
  }
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none|返回码|2000为正常 具体稍晚的时候我会给出一个YAML文件|
|» msg|string|false|none|提示|一般在返回异常的时候才会出现|
|» result|object|false|none|结果|一个map，包含了返回结果|
|»» url|string|true|none|一段js代码|none|
|»» paymentId|string|true|none|支付ID|payment_user中建立的支付记录的ID|

## POST 支付宝支付状态回调接口

POST /api/finance/user/pay/notify?2015-04-27 15:45:58=1.0

支付宝回调接口，不允许前端调用。

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|notify_time|query|string| 是 ||通知的发送时间。格式为 yyyy-MM-dd HH:mm:ss。|
|notify_type|query|string| 是 ||通知的类型|
|notify_id|query|string| 是 ||通知校验 ID|
|app_id|query|string| 是 ||支付宝分配给开发者的应用 ID。|
|charset|query|string| 是 ||编码格式，如 utf-8、gbk、gb2312 等。|
|2015-04-27 15:45:58|query|string| 是 ||调用的接口版本，固定为：1.0。|
|sign_type|query|string| 是 ||商家生成签名字符串所使用的签名算法类型，目前支持 RSA2 和 RSA，推荐使用 RSA2。|
|sign|query|string| 是 ||签名。详情可查看 异步返回结果的验签。|
|trade_no|query|string| 是 ||支付宝交易凭证号。|
|out_trade_no|query|string| 是 ||原支付请求的商户订单号。|
|out_biz_no|query|string| 否 ||商户业务 ID，主要是退款通知中返回退款申请的流水号。|
|trade_status|query|string| 否 ||交易目前所处的状态。详情可查看 交易状态说明|
|refund_fee|query|number| 否 ||退款通知中，返回总退款金额，单位为人民币（元），支持两位小数。|
|total_amount|query|number| 否 ||本次交易支付的订单金额，单位为人民币（元）。|

> 返回示例

> 200 Response

```json
{}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

## PUT 前端完成支付后修正状态

PUT /api/finance/user/pay/{paymentId}

如果数据库该订单状态仍是待支付，则需要将支付状态修正到已支付-等待回调。

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|paymentId|path|string| 是 ||payment_user对应的ID|

> 返回示例

> 200 Response

```json
{
  "code": 0,
  "msg": "string",
  "result": {}
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none|返回码|2000为正常 具体稍晚的时候我会给出一个YAML文件|
|» msg|string|false|none|提示|一般在返回异常的时候才会出现|
|» result|object|false|none|结果|一个map，包含了返回结果|

## GET 获取支付列表

GET /api/finance/user/pay/list

所有支付订单均由定时任务自动生成。提供分页、筛选与搜索。

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|pageNum|query|integer| 是 ||当前页号|
|pageSize|query|integer| 是 ||页面记录数量|
|beginTime|query|string| 否 ||开始时间 yyyy-MM-dd|
|type|query|integer| 否 ||0押金deposit 1住宿费 2网费|
|status|query|integer| 否 ||0未支付 1支付中_等待回调 2支付完成|

> 返回示例

> 成功

```json
{
  "result": {
    "list": [
      {
        "id": "1",
        "userId": "1",
        "price": 200,
        "status": 2,
        "type": 1,
        "createTime": "2023-07-04 20:23",
        "updateTime": "2023-07-04 20:23"
      }
    ],
    "total": "1"
  },
  "code": 2000
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

# finance/房建公寓段

## GET 查看历史变动表

GET /api/finance/center/variation

通过该接口可查询历史变动信息。在时间的选择上可以提供类似于“一个月内”，“半年内”，“一年内”，“所有”等多种选择。也提供根据部门ID搜索该部门住宿职工在规定时间内宿舍变动情况的结果。

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|pageNum|query|integer| 是 ||当前页号|
|pageSize|query|integer| 是 ||当前页面大小|
|beginTime|query|string| 否 ||开始时间 yyyy-MM-dd HH:mm:ss|
|departmentId|query|string| 否 ||外部单位ID|

> 返回示例

> 200 Response

```json
{
  "code": 0,
  "msg": "string",
  "result": {}
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none|返回码|2000为正常 具体稍晚的时候我会给出一个YAML文件|
|» msg|string|false|none|提示|一般在返回异常的时候才会出现|
|» result|object|false|none|结果|一个map，包含了返回结果|

## GET 下载历史变动表

GET /api/finance/center/variation/download

无参时提供变动总表的下载。

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|beginTime|query|string| 否 ||开始时间 yyyy-MM-dd HH:mm:ss|
|departmentId|query|string| 否 ||外部单位ID|

> 返回示例

> 200 Response

```json
{}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

## GET 查看外部单位代扣缴费情况

GET /api/finance/center/withhold

房建公寓段使用该接口总览外部单位代扣缴费情况。如果需要查看本月情况可切换时间。实际上是在玩`payment_department`这张表。

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|pageNum|query|integer| 是 ||当前页号|
|pageSize|query|integer| 是 ||当前页面大小|
|beginTime|query|string| 否 ||开始时间 yyyy-MM-dd|
|departmentId|query|string| 否 ||外部单位ID|

> 返回示例

> 200 Response

```json
{
  "code": 0,
  "msg": "string",
  "result": {
    "list": [
      {}
    ],
    "total": 0
  }
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none|返回码|2000为正常 具体稍晚的时候我会给出一个YAML文件|
|» msg|string|false|none|提示|一般在返回异常的时候才会出现|
|» result|object|false|none|结果|一个map，包含了返回结果|
|»» list|[object]|true|none|结果列表|包含分页结果的数组|
|»» total|integer|true|none|总记录数|none|

## GET 下载外部单位代扣表

GET /api/finance/center/withhold/download

通过该接口下载外部单位代扣表。默认无参下载所有表。如果需要构建本月表格则选择beginTime为本月即可。

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|beginTime|query|string| 否 ||开始时间 yyyy-MM-dd HH:mm:ss|
|departmentId|query|string| 否 ||外部单位ID|

> 返回示例

> 200 Response

```json
{}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

## GET 查看某条代扣缴费具体情况

GET /api/finance/center/withhold/detail

通过本接口查看某条具体代扣缴费情况

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|id|query|string| 是 ||payment_department表的id字段值|

> 返回示例

> 成功

```json
{
  "result": {
    "payment": {
      "id": "1",
      "departmentId": "1",
      "price": 200,
      "hasPaid": 1,
      "chequeId": "123456",
      "payTime": "2023-07-04 20:28:00",
      "createTime": "2023-07-04 20:17:48"
    },
    "department": {
      "id": "1",
      "name": "杭州东站",
      "isInterior": 1,
      "payType": 0,
      "position": "杭州市上城区全福桥路2号",
      "positionLongitude": 120.2126,
      "positionLatitude": 30.290851,
      "isDeleted": 0
    }
  },
  "code": 2000
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none|返回码|2000为正常 具体稍晚的时候我会给出一个YAML文件|
|» msg|string|false|none|提示|一般在返回异常的时候才会出现|
|» result|object|false|none|结果|一个map，包含了返回结果|
|»» department|object|true|none||none|
|»» payment|object|true|none||none|

## GET 查看自收缴费情况

GET /api/finance/center/charge

通过本接口查看自收情况

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|pageNum|query|integer| 是 ||当前页号|
|pageSize|query|integer| 是 ||当前页面大小|
|beginTime|query|string| 否 ||开始时间 yyyy-MM-dd HH:mm:ss|
|departmentId|query|string| 否 ||外部单位ID|

> 返回示例

> 200 Response

```json
{}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

## GET 查看某条自收缴费具体情况

GET /api/finance/center/charge/detail

通过本接口查看某条自收缴费情况

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|id|query|string| 是 ||payment_user表的id字段值|

> 返回示例

> 200 Response

```json
{
  "code": 0,
  "msg": "string",
  "result": {
    "user": {},
    "payment": {}
  }
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none|返回码|2000为正常 具体稍晚的时候我会给出一个YAML文件|
|» msg|string|false|none|提示|一般在返回异常的时候才会出现|
|» result|object|false|none|结果|一个map，包含了返回结果|
|»» user|object|true|none||none|
|»» payment|object|true|none||none|

## GET 下载自收表

GET /api/finance/center/charge/download

通过该接口下载自收表。默认无参下载所有表。如果需要构建本月表格则选择beginTime为本月即可。

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|beginTime|query|string| 否 ||开始时间 yyyy-MM-dd HH:mm:ss|
|departmentId|query|string| 否 ||外部单位ID|

> 返回示例

> 200 Response

```json
{}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

# finance/外部单位

## GET 查看历史变动表

GET /api/finance/department/variation

通过该接口可查询本单位人员住宿历史变动信息。在时间的选择上可以提供类似于“一个月内”，“半年内”，“一年内”，“所有”等多种选择。

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|pageNum|query|integer| 是 ||当前页号|
|pageSize|query|integer| 是 ||当前页面大小|
|beginTime|query|string| 否 ||开始时间 yyyy-MM-dd HH:mm:ss|

> 返回示例

> 200 Response

```json
{
  "code": 0,
  "msg": "string",
  "result": {}
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none|返回码|2000为正常 具体稍晚的时候我会给出一个YAML文件|
|» msg|string|false|none|提示|一般在返回异常的时候才会出现|
|» result|object|false|none|结果|一个map，包含了返回结果|

## GET 下载历史变动表

GET /api/finance/department/variation/download

无参时提供变动总表的下载。

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|beginTime|query|string| 否 ||开始时间 yyyy-MM-dd HH:mm:ss|

> 返回示例

> 200 Response

```json
{}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

## GET 查看外部单位代扣缴费情况

GET /api/finance/department/withhold

外部单位使用该接口查看本单位每月/每季度缴费情况。如果需要查看本月情况可切换时间。实际上是在玩`payment_department`这张表。所有缴费记录均由定时任务自动生成。

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|pageNum|query|integer| 是 ||当前页号|
|pageSize|query|integer| 是 ||当前页面大小|
|beginTime|query|string| 否 ||开始时间 yyyy-MM-dd HH:mm:ss|
|status|query|integer| 否 ||0未支付 1已支付|

> 返回示例

> 200 Response

```json
{
  "code": 0,
  "msg": "string",
  "result": {
    "list": [
      {}
    ],
    "total": 0
  }
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none|返回码|2000为正常 具体稍晚的时候我会给出一个YAML文件|
|» msg|string|false|none|提示|一般在返回异常的时候才会出现|
|» result|object|false|none|结果|一个map，包含了返回结果|
|»» list|[object]|true|none|结果列表|包含分页结果的数组|
|»» total|integer|true|none|总记录数|none|

## GET 下载外部单位代扣表

GET /api/finance/department/withhold/download

通过该接口下载本单位代扣表。默认无参下载所有表。如果需要构建本月表格则选择beginTime为本月即可。

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|beginTime|query|string| 否 ||开始时间 yyyy-MM-dd HH:mm:ss|

> 返回示例

> 200 Response

```json
{}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

## GET 下载自收表

GET /api/finance/department/charge/download

通过该接口下载自收表。默认无参下载所有表。如果需要构建本月表格则选择beginTime为本月即可。

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|beginTime|query|string| 否 ||开始时间 yyyy-MM-dd HH:mm:ss|

> 返回示例

> 200 Response

```json
{}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

## GET 查看某条代扣缴费具体情况

GET /api/finance/department/withhold/detail

通过本接口查看某条具体代扣缴费情况

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|id|query|string| 是 ||payment_department表的id字段值|

> 返回示例

> 200 Response

```json
{
  "code": 0,
  "msg": "string",
  "result": {
    "department": {},
    "payment": {}
  }
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none|返回码|2000为正常 具体稍晚的时候我会给出一个YAML文件|
|» msg|string|false|none|提示|一般在返回异常的时候才会出现|
|» result|object|false|none|结果|一个map，包含了返回结果|
|»» department|object|true|none||none|
|»» payment|object|true|none||none|

## GET 查看某条自收缴费具体情况

GET /api/finance/department/charge/detail

通过本接口查看某条自收缴费情况

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|id|query|string| 是 ||payment_user表的id字段值|

> 返回示例

> 200 Response

```json
{
  "code": 0,
  "msg": "string",
  "result": {
    "user": {},
    "payment": {}
  }
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none|返回码|2000为正常 具体稍晚的时候我会给出一个YAML文件|
|» msg|string|false|none|提示|一般在返回异常的时候才会出现|
|» result|object|false|none|结果|一个map，包含了返回结果|
|»» user|object|true|none||none|
|»» payment|object|true|none||none|

## GET 查看自收缴费情况

GET /api/finance/department/charge

通过本接口查看自收情况

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|pageNum|query|integer| 是 ||当前页号|
|pageSize|query|integer| 是 ||当前页面大小|
|beginTime|query|string| 否 ||开始时间 yyyy-MM-dd HH:mm:ss|

> 返回示例

> 200 Response

```json
{
  "code": 0,
  "msg": "string",
  "result": {}
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none|返回码|2000为正常 具体稍晚的时候我会给出一个YAML文件|
|» msg|string|false|none|提示|一般在返回异常的时候才会出现|
|» result|object|false|none|结果|一个map，包含了返回结果|

## POST 外部单位代扣支付

POST /api/finance/department/pay/{id}

外部单位通过此接口填写必要信息以确认住宿费用代扣。订单由系统定时自动生成。

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|id|path|string| 是 ||payment_department表对应ID|
|chequeId|query|string| 是 ||none|

> 返回示例

> 200 Response

```json
{
  "code": 0,
  "msg": "string",
  "result": {}
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none|返回码|2000为正常 具体稍晚的时候我会给出一个YAML文件|
|» msg|string|false|none|提示|一般在返回异常的时候才会出现|
|» result|object|false|none|结果|一个map，包含了返回结果|

# 数据模型

<h2 id="tocS_UserDetailVo">UserDetailVo</h2>

<a id="schemauserdetailvo"></a>
<a id="schema_UserDetailVo"></a>
<a id="tocSuserdetailvo"></a>
<a id="tocsuserdetailvo"></a>

```json
{
  "code": 0,
  "msg": "string",
  "result": {
    "user": {
      "username": "string",
      "departmentName": "string",
      "name": "string",
      "personalId": "string",
      "personalCardUrl": "string",
      "faceUrl": "string",
      "email": "string",
      "sex": 0,
      "isCadre": true
    },
    "bed": {
      "departmentName": "string",
      "bedName": "string"
    }
  }
}

```

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|code|integer|true|none|返回码|2000为正常 具体稍晚的时候我会给出一个YAML文件|
|msg|string|false|none|提示|一般在返回异常的时候才会出现|
|result|object|false|none|结果|一个map，包含了返回结果|
|» user|object|true|none||none|
|»» username|string|true|none|手机号|用户登录用用户名 标准的大陆手机号|
|»» departmentName|string|true|none|部门名称|前端应先请求部门列表以供展示|
|»» name|string|true|none|姓名|用户姓名|
|»» personalId|string|true|none|身份证号|用户身份证号|
|»» personalCardUrl|string|true|none|身份证URL|OSS|
|»» faceUrl|string|true|none|人脸数据URL|OSS|
|»» email|string¦null|false|none|邮箱|可空|
|»» sex|integer|true|none|性别|男0女1|
|»» isCadre|boolean|true|none|是否处级干部|是否处级干部|
|» bed|object|true|none|床位|该用户所用床位 bed表对应|
|»» departmentName|string|true|none|公寓名称|none|
|»» bedName|string|true|none|床位|none|

<h2 id="tocS_PutUserDto">PutUserDto</h2>

<a id="schemaputuserdto"></a>
<a id="schema_PutUserDto"></a>
<a id="tocSputuserdto"></a>
<a id="tocsputuserdto"></a>

```json
{
  "username": "string",
  "departmentId": "string",
  "name": "string",
  "personalId": "string",
  "personalCardUrl": "string",
  "faceUrl": "string",
  "email": "string",
  "sex": 0,
  "isCadre": true
}

```

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|username|string|true|none|手机号|用户登录用用户名 标准的大陆手机号|
|departmentId|string|true|none|部门ID|前端应先请求部门列表以供展示|
|name|string|true|none|姓名|用户姓名|
|personalId|string|true|none|身份证号|用户身份证号|
|personalCardUrl|string|true|none|身份证URL|OSS|
|faceUrl|string|true|none|人脸数据URL|OSS|
|email|string¦null|false|none|邮箱|可空|
|sex|integer|true|none|性别|男0女1|
|isCadre|boolean|true|none|是否处级干部|是否处级干部|

<h2 id="tocS_BedDetailVo">BedDetailVo</h2>

<a id="schemabeddetailvo"></a>
<a id="schema_BedDetailVo"></a>
<a id="tocSbeddetailvo"></a>
<a id="tocsbeddetailvo"></a>

```json
{
  "code": 0,
  "msg": "string",
  "result": {
    "bed": {},
    "resident": {}
  }
}

```

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|code|integer|true|none|返回码|2000为正常 具体稍晚的时候我会给出一个YAML文件|
|msg|string|false|none|提示|一般在返回异常的时候才会出现|
|result|object|false|none|结果|一个map，包含了返回结果|
|» bed|object|true|none||对应bed表的信息|
|» resident|object|true|none||对应该该床位对应的住户|

<h2 id="tocS_SimpleRoomListVo">SimpleRoomListVo</h2>

<a id="schemasimpleroomlistvo"></a>
<a id="schema_SimpleRoomListVo"></a>
<a id="tocSsimpleroomlistvo"></a>
<a id="tocssimpleroomlistvo"></a>

```json
{
  "code": 0,
  "msg": "string",
  "result": {
    "list": [
      {
        "id": "string",
        "name": "string"
      }
    ]
  }
}

```

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|code|integer|true|none|返回码|2000为正常 具体稍晚的时候我会给出一个YAML文件|
|msg|string|false|none|提示|一般在返回异常的时候才会出现|
|result|object|false|none|结果|一个map，包含了返回结果|
|» list|[object]|true|none|列表|包含了公寓id与名称的列表|
|»» id|string|true|none|ID|none|
|»» name|string|true|none|公寓名称|none|

<h2 id="tocS_RoomDetailVo">RoomDetailVo</h2>

<a id="schemaroomdetailvo"></a>
<a id="schema_RoomDetailVo"></a>
<a id="tocSroomdetailvo"></a>
<a id="tocsroomdetailvo"></a>

```json
{
  "code": 0,
  "msg": "string",
  "result": {
    "room": {},
    "beds": [
      {}
    ]
  }
}

```

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|code|integer|true|none|返回码|2000为正常 具体稍晚的时候我会给出一个YAML文件|
|msg|string|false|none|提示|一般在返回异常的时候才会出现|
|result|object|false|none|结果|一个map，包含了返回结果|
|» room|object|true|none||对应room表的信息|
|» beds|[object]|true|none||对应该room中的床位|

<h2 id="tocS_PutBedDto">PutBedDto</h2>

<a id="schemaputbeddto"></a>
<a id="schema_PutBedDto"></a>
<a id="tocSputbeddto"></a>
<a id="tocsputbeddto"></a>

```json
{
  "roomId": "string",
  "name": "string",
  "receiptId": "string",
  "isInUse": 0
}

```

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|roomId|string|true|none|房间ID|none|
|name|string|true|none|床位名称|none|
|receiptId|string|false|none|押金收据单号|none|
|isInUse|integer|false|none|床位是否正在使用中|none|

<h2 id="tocS_AddBedDto">AddBedDto</h2>

<a id="schemaaddbeddto"></a>
<a id="schema_AddBedDto"></a>
<a id="tocSaddbeddto"></a>
<a id="tocsaddbeddto"></a>

```json
{
  "roomId": "string",
  "name": "string"
}

```

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|roomId|string|true|none|房间ID|none|
|name|string|true|none|床位名称|none|

<h2 id="tocS_PutRoomDto">PutRoomDto</h2>

<a id="schemaputroomdto"></a>
<a id="schema_PutRoomDto"></a>
<a id="tocSputroomdto"></a>
<a id="tocsputroomdto"></a>

```json
{
  "apartmentId": 0,
  "name": "string",
  "usage": "string",
  "isForCadre": 0,
  "isReserved": 0,
  "type": 0,
  "totalFee": 0,
  "selfPayFee": 0,
  "refundFee": 0,
  "sex": 0
}

```

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|apartmentId|number|true|none|公寓ID|该房间所在公寓的ID|
|name|string|true|none|房间名称|eg. 1-101|
|usage|string|true|none|房间用途|eg. 住宿 班组长休息室|
|isForCadre|integer|true|none|是否干部房间|none|
|isReserved|integer|true|none|是否保留房间|none|
|type|integer|true|none|房间类型|1单人间 2双人间 3三人间 4四人间(极少)|
|totalFee|integer|true|none|房间总价|none|
|selfPayFee|integer|true|none|自理部分价格|none|
|refundFee|integer|true|none|单位报销部分价格|none|
|sex|integer|true|none|性别|none|

<h2 id="tocS_DepartmentDetailVo">DepartmentDetailVo</h2>

<a id="schemadepartmentdetailvo"></a>
<a id="schema_DepartmentDetailVo"></a>
<a id="tocSdepartmentdetailvo"></a>
<a id="tocsdepartmentdetailvo"></a>

```json
{
  "code": 0,
  "msg": "string",
  "result": {
    "department": {},
    "admins": [
      {}
    ]
  }
}

```

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|code|integer|true|none|返回码|2000为正常 具体稍晚的时候我会给出一个YAML文件|
|msg|string|false|none|提示|一般在返回异常的时候才会出现|
|result|object|false|none|结果|一个map，包含了返回结果|
|» department|object|true|none|部门|部门本身|
|» admins|[object]|true|none|管理员列表|none|

<h2 id="tocS_ApartmentDetailVo">ApartmentDetailVo</h2>

<a id="schemaapartmentdetailvo"></a>
<a id="schema_ApartmentDetailVo"></a>
<a id="tocSapartmentdetailvo"></a>
<a id="tocsapartmentdetailvo"></a>

```json
{
  "code": 0,
  "msg": "string",
  "result": {
    "apartment": {},
    "foreman": {}
  }
}

```

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|code|integer|true|none|返回码|2000为正常 具体稍晚的时候我会给出一个YAML文件|
|msg|string|false|none|提示|一般在返回异常的时候才会出现|
|result|object|false|none|结果|一个map，包含了返回结果|
|» apartment|object|true|none|公寓|apartment表|
|» foreman|object|true|none|班组长|班组长基本信息|

<h2 id="tocS_ForemanListVo">ForemanListVo</h2>

<a id="schemaforemanlistvo"></a>
<a id="schema_ForemanListVo"></a>
<a id="tocSforemanlistvo"></a>
<a id="tocsforemanlistvo"></a>

```json
{
  "code": 0,
  "msg": "string",
  "result": {
    "list": [
      {
        "id": "string",
        "name": "string"
      }
    ]
  }
}

```

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|code|integer|true|none|返回码|2000为正常 具体稍晚的时候我会给出一个YAML文件|
|msg|string|false|none|提示|一般在返回异常的时候才会出现|
|result|object|false|none|结果|一个map，包含了返回结果|
|» list|[object]|true|none|班组长列表|none|
|»» id|string|true|none|id|用户在admin表中的ID|
|»» name|string|true|none|姓名|班组长姓名|

<h2 id="tocS_AddRoomDto">AddRoomDto</h2>

<a id="schemaaddroomdto"></a>
<a id="schema_AddRoomDto"></a>
<a id="tocSaddroomdto"></a>
<a id="tocsaddroomdto"></a>

```json
{
  "apartmentId": 0,
  "name": "string",
  "usage": "string",
  "isForCadre": true,
  "isReserved": true,
  "type": 0,
  "totalFee": 0,
  "selfPayFee": 0,
  "refundFee": 0,
  "sex": 0
}

```

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|apartmentId|integer|true|none|公寓ID|该房间所在公寓的ID|
|name|string|true|none|房间名称|eg. 1-101|
|usage|string|true|none|房间用途|eg. 住宿 班组长休息室|
|isForCadre|boolean|true|none|是否干部房间|none|
|isReserved|boolean|true|none|是否保留房间|none|
|type|integer|true|none|房间类型|1单人间 2双人间 3三人间 4四人间(极少)|
|totalFee|integer|true|none|房间总价|none|
|selfPayFee|integer|true|none|自理部分价格|none|
|refundFee|integer|true|none|单位报销部分价格|none|
|sex|integer|true|none|性别|none|

<h2 id="tocS_SimpleApartmentListVo">SimpleApartmentListVo</h2>

<a id="schemasimpleapartmentlistvo"></a>
<a id="schema_SimpleApartmentListVo"></a>
<a id="tocSsimpleapartmentlistvo"></a>
<a id="tocssimpleapartmentlistvo"></a>

```json
{
  "code": 0,
  "msg": "string",
  "result": {
    "list": [
      {
        "id": "string",
        "name": "string"
      }
    ]
  }
}

```

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|code|integer|true|none|返回码|2000为正常 具体稍晚的时候我会给出一个YAML文件|
|msg|string|false|none|提示|一般在返回异常的时候才会出现|
|result|object|false|none|结果|一个map，包含了返回结果|
|» list|[object]|true|none|列表|包含了公寓id与名称的列表|
|»» id|string|true|none|ID|none|
|»» name|string|true|none|公寓名称|none|

<h2 id="tocS_SimpleDepartmentListVo">SimpleDepartmentListVo</h2>

<a id="schemasimpledepartmentlistvo"></a>
<a id="schema_SimpleDepartmentListVo"></a>
<a id="tocSsimpledepartmentlistvo"></a>
<a id="tocssimpledepartmentlistvo"></a>

```json
{
  "code": 0,
  "msg": "string",
  "result": {
    "list": [
      {
        "id": "string",
        "name": "string"
      }
    ]
  }
}

```

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|code|integer|true|none|返回码|2000为正常 具体稍晚的时候我会给出一个YAML文件|
|msg|string|false|none|提示|一般在返回异常的时候才会出现|
|result|object|false|none|结果|一个map，包含了返回结果|
|» list|[object]|true|none|列表|一个包含了id与部门名称的列表|
|»» id|string|true|none|ID|none|
|»» name|string|true|none|外部单位名称|none|

<h2 id="tocS_PutApartmentDto">PutApartmentDto</h2>

<a id="schemaputapartmentdto"></a>
<a id="schema_PutApartmentDto"></a>
<a id="tocSputapartmentdto"></a>
<a id="tocsputapartmentdto"></a>

```json
{
  "name": "string",
  "foremanAdminId": "string",
  "position": "string",
  "positionLongitude": 0,
  "positionLatitude": 0,
  "status": 0
}

```

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|name|string|true|none|公寓名称|eg.望江门公寓|
|foremanAdminId|string|true|none|班组长ID|总负责该公寓的班组长的ID|
|position|string|true|none|公寓所在具体地名|none|
|positionLongitude|number|true|none|公寓所在地点经度|none|
|positionLatitude|number|true|none|公寓所在地点纬度|none|
|status|integer|true|none|公寓状态|0正常 1启用程序中 2弃用程序中 3已弃用 default 0|

<h2 id="tocS_AddApartmentDto">AddApartmentDto</h2>

<a id="schemaaddapartmentdto"></a>
<a id="schema_AddApartmentDto"></a>
<a id="tocSaddapartmentdto"></a>
<a id="tocsaddapartmentdto"></a>

```json
{
  "name": "string",
  "foremanAdminId": "string",
  "position": "string",
  "positionLongitude": "string",
  "positionLatitude": "string",
  "status": 0
}

```

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|name|string|true|none|公寓名称|eg.望江门公寓|
|foremanAdminId|string|true|none|班组长ID|总负责该公寓的班组长的ID|
|position|string|true|none|公寓所在具体地名|none|
|positionLongitude|string|true|none|公寓所在地点经度|none|
|positionLatitude|string|true|none|公寓所在地点纬度|none|
|status|integer|true|none|公寓状态|0正常 1启用程序中 2弃用程序中 3已弃用 default 0|

<h2 id="tocS_PutDepartmentDto">PutDepartmentDto</h2>

<a id="schemaputdepartmentdto"></a>
<a id="schema_PutDepartmentDto"></a>
<a id="tocSputdepartmentdto"></a>
<a id="tocsputdepartmentdto"></a>

```json
{
  "name": "string",
  "isInterior": 0,
  "payType": 0,
  "position": "string",
  "position_longitude": "string",
  "position_latitude": "string"
}

```

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|name|string|true|none|部门名称|none|
|isInterior|integer|true|none|是否内网单位|默认外网|
|payType|integer|true|none|部门缴费类型|按月 按季度|
|position|string|true|none|单位所在地名|none|
|position_longitude|string|true|none|单位所在地点经度|none|
|position_latitude|string|true|none|单位所在地点纬度|none|

<h2 id="tocS_AddDepartmentDto">AddDepartmentDto</h2>

<a id="schemaadddepartmentdto"></a>
<a id="schema_AddDepartmentDto"></a>
<a id="tocSadddepartmentdto"></a>
<a id="tocsadddepartmentdto"></a>

```json
{
  "name": "string",
  "isInterior": 0,
  "payType": 0,
  "position": "string",
  "positionLongitude": 0,
  "positionLatitude": 0
}

```

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|name|string|true|none|部门名称|none|
|isInterior|integer|true|none|是否内网单位|默认外网|
|payType|integer|true|none|部门缴费类型|按月 按季度|
|position|string|true|none|单位所在地名|none|
|positionLongitude|number|true|none|单位所在地点经度|none|
|positionLatitude|number|true|none|单位所在地点纬度|none|

<h2 id="tocS_PageResult">PageResult</h2>

<a id="schemapageresult"></a>
<a id="schema_PageResult"></a>
<a id="tocSpageresult"></a>
<a id="tocspageresult"></a>

```json
{
  "code": 0,
  "msg": "string",
  "result": {
    "list": [
      {}
    ],
    "total": 0
  }
}

```

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|code|integer|true|none|返回码|2000为正常 具体稍晚的时候我会给出一个YAML文件|
|msg|string|false|none|提示|一般在返回异常的时候才会出现|
|result|object|false|none|结果|一个map，包含了返回结果|
|» list|[object]|true|none|结果列表|包含分页结果的数组|
|» total|integer|true|none|总记录数|none|

<h2 id="tocS_PutAdminDto">PutAdminDto</h2>

<a id="schemaputadmindto"></a>
<a id="schema_PutAdminDto"></a>
<a id="tocSputadmindto"></a>
<a id="tocsputadmindto"></a>

```json
{
  "username": "string",
  "password": "string",
  "role": "string",
  "name": "string",
  "departmentId": "string",
  "email": "string"
}

```

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|username|string|true|none|用户名|也是管理员的手机号|
|password|string|true|none|密码|RSA加密 6-20位数字、字母、下划线|
|role|string|true|none|角色|管理员角色|
|name|string|true|none|姓名|none|
|departmentId|string|true|none|部门ID|所属部门对应ID|
|email|string|false|none|邮箱|联系该管理员的邮箱|

<h2 id="tocS_AddAdminDto">AddAdminDto</h2>

<a id="schemaaddadmindto"></a>
<a id="schema_AddAdminDto"></a>
<a id="tocSaddadmindto"></a>
<a id="tocsaddadmindto"></a>

```json
{
  "username": "string",
  "password": "string",
  "role": "string",
  "name": "string",
  "departmentId": "string",
  "email": "string"
}

```

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|username|string|true|none|用户名|也是管理员的手机号|
|password|string|true|none|密码|RSA加密 6-20位数字、字母、下划线|
|role|string|true|none|角色|管理员角色|
|name|string|true|none|姓名|none|
|departmentId|string|true|none|部门ID|所属部门对应ID|
|email|string|false|none|邮箱|联系该管理员的邮箱|

<h2 id="tocS_LoginResult">LoginResult</h2>

<a id="schemaloginresult"></a>
<a id="schema_LoginResult"></a>
<a id="tocSloginresult"></a>
<a id="tocsloginresult"></a>

```json
{
  "code": 0,
  "msg": "string",
  "result": {
    "token": "string",
    "role": 0
  }
}

```

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|code|integer|true|none|返回码|2000为正常 具体稍晚的时候我会给出一个YAML文件|
|msg|string|false|none|提示|一般在返回异常的时候才会出现|
|result|object|false|none|结果|一个map，包含了返回结果|
|» token|string|true|none|token|一串ej开头的长字符串|
|» role|integer|true|none|用户角色|查见Enum|

<h2 id="tocS_UserRegisterDto">UserRegisterDto</h2>

<a id="schemauserregisterdto"></a>
<a id="schema_UserRegisterDto"></a>
<a id="tocSuserregisterdto"></a>
<a id="tocsuserregisterdto"></a>

```json
{
  "username": "string",
  "password": "string",
  "departmentId": "string",
  "name": "string",
  "personalId": "string",
  "personalCardUrl": "string",
  "faceUrl": "string",
  "email": "string",
  "sex": 0,
  "isCadre": 0
}

```

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|username|string|true|none|手机号|用户登录用用户名 标准的大陆手机号|
|password|string|true|none|密码|RSA加密 6-20位数字 字母与下划线|
|departmentId|string|true|none|部门ID|前端应先请求部门列表以供展示|
|name|string|true|none|姓名|用户姓名|
|personalId|string|true|none|身份证号|用户身份证号|
|personalCardUrl|string|true|none|身份证URL|OSS|
|faceUrl|string|true|none|人脸数据URL|OSS|
|email|string¦null|false|none|邮箱|可空|
|sex|integer|true|none|性别|男0女1|
|isCadre|integer|true|none|是否处级干部|是否处级干部|

<h2 id="tocS_R">R</h2>

<a id="schemar"></a>
<a id="schema_R"></a>
<a id="tocSr"></a>
<a id="tocsr"></a>

```json
{
  "code": 0,
  "msg": "string",
  "result": {}
}

```

### 属性

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|code|integer|true|none|返回码|2000为正常 具体稍晚的时候我会给出一个YAML文件|
|msg|string|false|none|提示|一般在返回异常的时候才会出现|
|result|object|false|none|结果|一个map，包含了返回结果|

